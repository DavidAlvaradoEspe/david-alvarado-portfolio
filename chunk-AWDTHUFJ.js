import{d as u}from"./chunk-AEBEBRN7.js";import{j as p}from"./chunk-WMKW4FWA.js";import{h as i}from"./chunk-GXO6EN2N.js";var c=class{static ExpandRGBDTexture(a){let e=a._texture;if(!e||!a.isRGBD)return;let t=e.getEngine(),n=t.getCaps(),g=e.isReady,s=!1;n.textureHalfFloatRender&&n.textureHalfFloatLinearFiltering?(s=!0,e.type=2):n.textureFloatRender&&n.textureFloatLinearFiltering&&(s=!0,e.type=1),s&&(e.isReady=!1,e._isRGBD=!1,e.invertY=!1);let l=()=>i(null,null,function*(){let d=t.isWebGPU,x=d?1:0;e.isReady=!1,d?yield import("./chunk-S73J4FTD.js"):yield import("./chunk-6MBXVINW.js");let r=new p("rgbdDecode","rgbdDecode",null,null,1,null,3,t,!1,void 0,e.type,void 0,null,!1,void 0,x);r.externalTextureSamplerBinding=!0;let o=t.createRenderTargetTexture(e.width,{generateDepthBuffer:!1,generateMipMaps:!1,generateStencilBuffer:!1,samplingMode:e.samplingMode,type:e.type,format:5});r.onEffectCreatedObservable.addOnce(m=>{m.executeWhenCompiled(()=>{r.onApply=f=>{f._bindTexture("textureSampler",e),f.setFloat2("scale",1,1)},a.getScene().postProcessManager.directRender([r],o,!0),t.restoreDefaultFramebuffer(),t._releaseTexture(e),r&&r.dispose(),o._swapAndDie(e),e.isReady=!0})})});s&&(g?l():a.onLoadObservable.addOnce(l))}static EncodeTextureToRGBD(a,e,t=0){return i(this,null,function*(){return e.getEngine().isWebGPU?yield import("./chunk-SDFDDH4N.js"):yield import("./chunk-2FR3HM26.js"),yield u("rgbdEncode",a,e,t,1,5)})}};export{c as a};
