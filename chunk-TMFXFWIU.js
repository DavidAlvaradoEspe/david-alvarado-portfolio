import{k as s}from"./chunk-UB6LWR2H.js";var i=class{static GetEffect(e){return e.getPipelineContext===void 0?e.effect:e}constructor(e,t=!0){this._wasPreviouslyReady=!1,this._forceRebindOnNextCall=!0,this._wasPreviouslyUsingInstances=null,this.effect=null,this.defines=null,this.drawContext=e.createDrawContext(),t&&(this.materialContext=e.createMaterialContext())}setEffect(e,t,n=!0){this.effect=e,t!==void 0&&(this.defines=t),n&&this.drawContext?.reset()}dispose(e=!1){if(this.effect){let t=this.effect;e?t.dispose():s.SetImmediate(()=>{t.getEngine().onEndFrameObservable.addOnce(()=>{t.dispose()})}),this.effect=null}this.drawContext?.dispose()}};export{i as a};
