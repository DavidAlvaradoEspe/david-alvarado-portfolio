import{$ as be,A as z,B as p,C as d,D as S,E as le,F as de,G as Ee,H as Ae,I as St,J as Ct,K as Pt,L as R,M as Ie,N as we,O as ke,P as xt,Q as ee,R as f,S as x,T as me,U as te,V as ie,W as Ot,X as Mt,Y as Ne,Z as Tt,_ as Et,a as ht,aa as At,b as G,ba as ue,c as ft,ca as W,d as gt,da as Qt,e as Ge,ea as V,f as vt,fa as Jt,g as pe,ga as De,h as xe,ha as Xt,i as ve,ia as ei,j as _t,ja as ti,k as Oe,ka as Le,l as Me,la as ii,m as _e,ma as ni,n as bt,na as Qe,o as Te,oa as ri,p as Q,pa as he,q as J,qa as oi,r as c,ra as ai,s as E,t as X,u as I,v as yt,w,x as B,y as D,z as L}from"./chunk-CZFX2WE5.js";import"./chunk-6ZYTWFB7.js";import"./chunk-SIRYQ23E.js";import"./chunk-UCOVMCIN.js";import{a as qe,e as Ke,h as Ze}from"./chunk-XUCPIFVC.js";import"./chunk-R6NZNNKC.js";import"./chunk-O4KX6OS6.js";import"./chunk-PAIB4B2M.js";import"./chunk-IBLZLZZZ.js";import"./chunk-HYMNALGP.js";import"./chunk-A6K5JERA.js";import"./chunk-Z6SLAXJD.js";import"./chunk-ECE5LYUU.js";import"./chunk-3I5CJTBG.js";import"./chunk-L5ZS7BLX.js";import{b as Zt}from"./chunk-KUSDBOVJ.js";import"./chunk-OTG5DIDJ.js";import"./chunk-3CQOVPBJ.js";import"./chunk-NYOR2HEC.js";import"./chunk-ONJQLIA2.js";import"./chunk-ZCCO6EMC.js";import"./chunk-R3OZJ4HQ.js";import{h as y}from"./chunk-ONKGPWX4.js";import"./chunk-OXLTDKUZ.js";import"./chunk-XAO7YOQZ.js";import{c as qt,f as Kt}from"./chunk-6KSC6QMC.js";import"./chunk-Y6OLMIZM.js";import"./chunk-7DENLIKN.js";import"./chunk-LJGIHTVW.js";import"./chunk-4O5HTYBQ.js";import"./chunk-VJIYOY3Y.js";import"./chunk-BY3NEV2G.js";import"./chunk-UZ4AZL3O.js";import"./chunk-2O64SUYQ.js";import{F as Ht,H as Yt,K as $t,L as Wt,e as Bt,m as Vt,o as jt,p as We,q as Ut,r as Gt}from"./chunk-YWVEFMAA.js";import"./chunk-7PKF2HBK.js";import{a as $e}from"./chunk-ESU2LKTX.js";import"./chunk-WOSX534W.js";import"./chunk-UTB7MUBH.js";import"./chunk-DTW6C2NU.js";import"./chunk-4L3AMN6L.js";import"./chunk-BBMLNH3A.js";import"./chunk-7FSFDK4E.js";import"./chunk-JTBODENQ.js";import"./chunk-BQPQ6TSI.js";import"./chunk-DXIW36IF.js";import"./chunk-FJN7KTAM.js";import"./chunk-ADGVNOWV.js";import"./chunk-RPO3NA2D.js";import"./chunk-MUVVFX4O.js";import"./chunk-CO7QZEHY.js";import"./chunk-TZYBJFW2.js";import"./chunk-MZYVXJQS.js";import"./chunk-TYRUT66Y.js";import"./chunk-RX5ZKODH.js";import"./chunk-56K6VOMW.js";import"./chunk-3XT2LBGG.js";import"./chunk-B7ACYLBJ.js";import"./chunk-GCSIM5MW.js";import"./chunk-2LR3BD57.js";import"./chunk-QCR5HLUD.js";import"./chunk-G5DRJZ63.js";import"./chunk-IMSFUDDL.js";import{d as Ft}from"./chunk-5T7GZZEX.js";import"./chunk-NHIHMT2T.js";import{b as Ye}from"./chunk-CW5F3XFN.js";import{a as g,b as H}from"./chunk-NPZEPKVW.js";import{c as zt,d as P,e as ye}from"./chunk-FWZ75RMU.js";import"./chunk-OPJEXU7D.js";import"./chunk-YFTPYCF4.js";import"./chunk-H5VVG2IN.js";import{a as wt}from"./chunk-YZWYFFYQ.js";import"./chunk-5H5AAOGY.js";import{e as Se}from"./chunk-J7UYENZA.js";import{a as F,c as Dt,d as ne,e as Lt,f as He,i as Rt}from"./chunk-CCUABLZY.js";import"./chunk-LYHSKFCL.js";import"./chunk-5SDLENZK.js";import"./chunk-XXSLHR3E.js";import{a as M,b as Nt}from"./chunk-3WG2WLZ4.js";import"./chunk-ZUHEGR2G.js";import"./chunk-XI4OBPMN.js";import"./chunk-SO644OCK.js";import"./chunk-CXW3WAWT.js";import"./chunk-A3WFPZFR.js";import"./chunk-CWQQB2EJ.js";import{a as kt}from"./chunk-PMYBMJFK.js";import{a as It}from"./chunk-CJK33JLH.js";import{a as ze}from"./chunk-PTJ4CXVK.js";import{a as $}from"./chunk-L3UYHT7M.js";import{g as U}from"./chunk-YVY7FGQB.js";var re=class n{constructor(t){this.translateService=t;this.initializeTranslations(),this.translateService.onLangChange.subscribe(()=>{this.initializeTranslations()}),this._messageRequest$.pipe(gt(e=>(this._textVisible$.next(!1),ft(e).pipe(Ge(300),vt(i=>{this.translateService.get(i).subscribe(r=>{this._message$.next(r)}),this._textVisible$.next(!0)}),Ge(500))))).subscribe()}_show$=new G(!1);show$=this._show$.asObservable();_message$=new G("");message$=this._message$.asObservable();_image$=new G("assets/icons/map-icon.png");image$=this._image$.asObservable();_showButton$=new G(!1);showButton$=this._showButton$.asObservable();_buttonText$=new G("");buttonText$=this._buttonText$.asObservable();get buttonText(){return this._buttonText$.value}set buttonText(t){this.updateButtonText(t)}isTransparent=!1;autoHide=!0;_textVisible$=new G(!0);textVisible$=this._textVisible$.asObservable();_messageRequest$=new ht;_isExiting$=new G(!1);isExiting$=this._isExiting$.asObservable();initializeTranslations(){this.translateService.get("Engaging Mechanism").subscribe(t=>{this._message$.next(t)}),this.translateService.get("LAUNCH").subscribe(t=>{this._buttonText$.next(t)})}forceClose(){this._isExiting$.next(!0),setTimeout(()=>{this.show=!1,this._isExiting$.next(!1)},500)}updateMessage(t){this._messageRequest$.next(t)}updateButtonText(t){this.translateService.get(t).subscribe(e=>{this._buttonText$.next(e)})}get show(){return this._show$.value}set show(t){this._show$.next(t),t?this.toggleScroll(!0):this.toggleScroll(!1)}hide(){this.autoHide?this.show=!1:(this._showButton$.next(!0),this.updateMessage("!COORDINATES LOCKED!"))}toggleScroll(t){t?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")}updateImage(t){this._image$.next(t)}static \u0275fac=function(e){return new(e||n)(xe(Jt))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})};var si="puzzle-state",q=class n{_isUnlocked=Q(this.loadFromStorage().isUnlocked);_isLoading=Q(!0);isUnlocked=this._isUnlocked.asReadonly();isLoading=this._isLoading.asReadonly();loadFromStorage(){try{let t=sessionStorage.getItem(si);if(t)return JSON.parse(t)}catch(t){console.warn("Failed to load puzzle state from sessionStorage",t)}return{isUnlocked:!1}}saveToStorage(){try{let t={isUnlocked:this._isUnlocked()};sessionStorage.setItem(si,JSON.stringify(t))}catch(t){console.warn("Failed to save puzzle state to sessionStorage",t)}}unlockPuzzle(){this._isUnlocked.set(!0),this.saveToStorage()}lockPuzzle(){this._isUnlocked.set(!1),this.saveToStorage()}setLoading(t){this._isLoading.set(t)}reset(){this._isUnlocked.set(!1),this._isLoading.set(!0),this.saveToStorage()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})};var bi=["renderCanvas"];function yi(n,t){n&1&&(_e(),p(0,"svg",15),S(1,"path",16),d())}function Si(n,t){n&1&&(_e(),p(0,"svg",15),S(1,"path",17),d())}function Ci(n,t){n&1&&(_e(),p(0,"svg",15),S(1,"path",18),d())}function Pi(n,t){if(n&1&&(p(0,"span",14),I(1,yi,2,0,":svg:svg",15),I(2,Si,2,0,":svg:svg",15),I(3,Ci,2,0,":svg:svg",15),d()),n&2){let e=t.$implicit,i=t.$index,r=R(2);ee("completed",i<r.puzzleStep())("active",i===r.puzzleStep()),c(),w(e==="right"?1:-1),c(),w(e==="down"?2:-1),c(),w(e==="left"?3:-1)}}function xi(n,t){n&1&&S(0,"span",13),n&2&&z("translate","Swipe Right")}function Oi(n,t){n&1&&S(0,"span",13),n&2&&z("translate","Swipe Down")}function Mi(n,t){n&1&&S(0,"span",13),n&2&&z("translate","Swipe Left")}function Ti(n,t){if(n&1&&(p(0,"div",3),S(1,"h1",4),p(2,"div",5),D(3,Pi,4,7,"span",6,B),d()(),p(5,"div",7)(6,"div",8),_e(),p(7,"svg",9),S(8,"path",10),d(),bt(),S(9,"div",11),d(),p(10,"div",12),I(11,xi,1,1,"span",13)(12,Oi,1,1,"span",13)(13,Mi,1,1,"span",13),d()()),n&2){let e,i=R();c(),z("translate","Unlock Map"),c(2),L(i.SEQUENCE_DISPLAY),c(3),ee("anim-right",i.puzzleStep()===0)("anim-down",i.puzzleStep()===1)("anim-left",i.puzzleStep()===2),c(5),w((e=i.puzzleStep())===0?11:e===1?12:e===2?13:-1)}}var Ce={SEQUENCE:["right","down","left"],SEQUENCE_DISPLAY:["right","down","left"],SWIPE_THRESHOLD:50,FLOATING_SPEED:2.5,FLOATING_AMPLITUDE:.015},K={INNER_SPHERE:{ALBEDO_COLOR:new g(0,0,0),METALLIC:.1,ROUGHNESS:.9},GLOW_LAYER:{MAIN_TEXTURE_RATIO:.5,BLUR_KERNEL_SIZE:32,INTENSITY:2},FEEDBACK_COLORS:{CORRECT:new g(0,1,0),WRONG:new g(1,0,0),UNLOCKED:g.FromHexString("#00ffff")}},Y={PULSE_DURATION:36,PULSE_FPS:30,CAMERA_DELAY:200,VIBRATE_DELAY:50,VIBRATE_ERROR_DELAY:150},oe={ROTATION_FPS:30,ROTATION_FRAMES:15,RESET_FRAMES:15,SHAKE_DURATION:500,SHAKE_FREQUENCY:50,SHAKE_INTENSITY:.005},Re=class n{constructor(t,e,i,r,o){this.babylonService=t;this.splashService=e;this.ngZone=i;this.router=r;this.puzzleStore=o}canvasRef;puzzleStep=Q(0);SEQUENCE_DISPLAY=Ce.SEQUENCE_DISPLAY;isAnimating=!1;isVibrating=!1;startX=0;startY=0;loadedOuterMap=null;loadedInnerMap=null;mapSphere=null;glowLayer=null;floatingObserver=null;pointerObserver=null;SEQUENCE=Ce.SEQUENCE;SWIPE_THRESHOLD=Ce.SWIPE_THRESHOLD;ngOnInit(){this.splashService.show=!0,this.puzzleStore.setLoading(!0),this.injectStructuredData()}injectStructuredData(){let t=document.createElement("script");t.type="application/ld+json",t.text=JSON.stringify({"@context":"https://schema.org","@type":"WebPage",name:"Interactive Treasure Map Puzzle",description:"Unlock David Alvarado's portfolio by solving an interactive 3D treasure map puzzle with swipe gestures",author:{"@type":"Person",name:"David Alvarado",jobTitle:"Full Stack Developer"},isPartOf:{"@type":"WebSite",name:"David Alvarado Portfolio",url:window.location.origin}}),document.head.appendChild(t)}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.initBabylonScene().catch(console.error)},0)})}initBabylonScene(){return U(this,null,function*(){this.initializeScene();try{yield this.loadInnerSphere(),yield this.loadOuterMapModel(),this.setupInteraction(),this.finalizeSceneSetup()}catch(t){console.error("Failed to initialize treasure map:",t),this.splashService.updateMessage("Error Loading Map Data"),setTimeout(()=>this.splashService.hide(),2e3)}})}initializeScene(){let t=this.canvasRef.nativeElement;this.babylonService.initScene(t,{createEnvironmentTexture:!0,createLights:!1,allowCamControls:!1,createGlowLayer:!1},{removeKeyBoardInputs:!1,autoElevation:!1,disablePanning:!1})}loadInnerSphere(){return U(this,null,function*(){if(this.loadedInnerMap=yield this.babylonService.loadModel("assets/models/inner_sphere.glb"),this.loadedInnerMap.addAllToScene(),this.mapSphere=this.loadedInnerMap.meshes[1],this.mapSphere&&this.babylonService.currentScene){let t=new Zt("blackSphere",this.babylonService.currentScene);t.albedoColor=K.INNER_SPHERE.ALBEDO_COLOR,t.metallic=K.INNER_SPHERE.METALLIC,t.roughness=K.INNER_SPHERE.ROUGHNESS,t.emissiveColor=new g(0,0,0),this.mapSphere.material=t,this.glowLayer=new Qt("glow",this.babylonService.currentScene,{mainTextureRatio:K.GLOW_LAYER.MAIN_TEXTURE_RATIO,blurKernelSize:K.GLOW_LAYER.BLUR_KERNEL_SIZE}),this.glowLayer.intensity=K.GLOW_LAYER.INTENSITY}this.babylonService.setCameraInitialTarget(!1,!1,!0,this.loadedInnerMap,!1,!1),this.babylonService.scaleMesh(this.loadedInnerMap.meshes[0],1.03)})}loadOuterMapModel(){return U(this,null,function*(){this.loadedOuterMap=yield this.babylonService.loadModel("assets/models/treasure_map.glb"),this.loadedOuterMap.addAllToScene(),this.babylonService.setCameraInitialTarget(!1,!0,!0,this.loadedOuterMap,!0,!0),this.startFloatingEffect()})}finalizeSceneSetup(){this.ngZone.run(()=>{this.puzzleStore.setLoading(!1),setTimeout(()=>{this.splashService.hide()},500)}),this.babylonService.startAnimation()}startFloatingEffect(){if(!this.babylonService.currentScene||!this.babylonService.parentBox||!this.loadedInnerMap)return;let t=new ue("coreGroup",this.babylonService.currentScene);this.babylonService.parentBox.parent=t,this.loadedInnerMap.meshes[0].parent=t;let e=this.babylonService.currentScene,i=0,r=Ce.FLOATING_SPEED,o=Ce.FLOATING_AMPLITUDE,a=t.position.y;this.floatingObserver=e.onBeforeRenderObservable.add(()=>{!this.isAnimating&&t&&(i+=.016*r,t.position.y=a+Math.sin(i)*o)})}setupInteraction(){this.babylonService.currentScene&&this.attachPointerObserver()}attachPointerObserver(){!this.babylonService.currentScene||this.pointerObserver||(this.pointerObserver=this.babylonService.currentScene.onPointerObservable.add(t=>{let e=t.type;if(e===$e.POINTERDOWN)this.startX=t.event.clientX,this.startY=t.event.clientY;else if(e===$e.POINTERUP&&this.startX!==0){let i=t.event.clientX-this.startX,r=t.event.clientY-this.startY,o=this.detectSwipeDirection(i,r);o&&this.handleSwipe(o),this.startX=0,this.startY=0}}))}detachPointerObserver(){this.pointerObserver&&this.babylonService.currentScene&&(this.babylonService.currentScene.onPointerObservable.remove(this.pointerObserver),this.pointerObserver=null,this.startX=0,this.startY=0)}detectSwipeDirection(t,e){let i=Math.abs(t),r=Math.abs(e);return i<this.SWIPE_THRESHOLD&&r<this.SWIPE_THRESHOLD?null:i>r?t>0?"right":"left":e>0?"down":"up"}handleSwipe(t){this.isAnimating||this.puzzleStore.isUnlocked()||(this.isAnimating=!0,this.detachPointerObserver(),this.ngZone.run(()=>{let e=this.SEQUENCE[this.puzzleStep()];t===e?(this.puzzleStep.set(this.puzzleStep()+1),this.onCorrectSwipe(),this.puzzleStep()>=this.SEQUENCE.length&&this.unlockPuzzle().catch(console.error)):(this.puzzleStep.set(0),this.onWrongSwipe())}))}onCorrectSwipe(){if("vibrate"in navigator&&!this.isVibrating&&(this.isVibrating=!0,navigator.vibrate(100),setTimeout(()=>this.isVibrating=!1,Y.VIBRATE_DELAY)),!this.mapSphere?.material||!this.babylonService.currentScene){this.resetAfterAnimation();return}let t=this.mapSphere.material,e=this.babylonService.currentScene,i=new y("greenPulse","emissiveIntensity",Y.PULSE_FPS,y.ANIMATIONTYPE_FLOAT,y.ANIMATIONLOOPMODE_CONSTANT);i.setKeys([{frame:0,value:0},{frame:9,value:2},{frame:18,value:0},{frame:27,value:2},{frame:Y.PULSE_DURATION,value:0}]),i.setEasingFunction(new Ze),t.emissiveColor=K.FEEDBACK_COLORS.CORRECT,t.emissiveIntensity=0;let r=e.beginDirectAnimation(t,[i],0,Y.PULSE_DURATION,!1);setTimeout(()=>{let o=this.SEQUENCE[this.puzzleStep()-1];this.rotateCameraByDirection(o)},Y.CAMERA_DELAY),r.onAnimationEndObservable.addOnce(()=>{t.emissiveColor=new g(0,0,0),t.emissiveIntensity=1,this.resetAfterAnimation()})}onWrongSwipe(){if("vibrate"in navigator&&!this.isVibrating&&(this.isVibrating=!0,navigator.vibrate([50,100,50]),setTimeout(()=>this.isVibrating=!1,Y.VIBRATE_ERROR_DELAY)),this.shakeParentBox(),!this.mapSphere?.material||!this.babylonService.currentScene){setTimeout(()=>{this.resetCameraToInitialPosition(),this.resetAfterAnimation()},200);return}let t=this.mapSphere.material,e=this.babylonService.currentScene,i=new y("redPulse","emissiveIntensity",Y.PULSE_FPS,y.ANIMATIONTYPE_FLOAT,y.ANIMATIONLOOPMODE_CONSTANT);i.setKeys([{frame:0,value:0},{frame:9,value:2},{frame:18,value:0},{frame:27,value:2},{frame:Y.PULSE_DURATION,value:0}]),i.setEasingFunction(new Ze),t.emissiveColor=K.FEEDBACK_COLORS.WRONG,t.emissiveIntensity=0;let r=e.beginDirectAnimation(t,[i],0,Y.PULSE_DURATION,!1);setTimeout(()=>this.resetCameraToInitialPosition(),Y.CAMERA_DELAY),r.onAnimationEndObservable.addOnce(()=>{t.emissiveColor=new g(0,0,0),t.emissiveIntensity=1,this.resetAfterAnimation()})}resetAfterAnimation(){this.isAnimating=!1,this.isVibrating=!1,this.puzzleStore.isUnlocked()||this.attachPointerObserver()}unlockPuzzle(){return U(this,null,function*(){if(this.puzzleStore.unlockPuzzle(),"vibrate"in navigator&&navigator.vibrate([100,50,100,50,200]),this.detachPointerObserver(),this.floatingObserver&&this.babylonService.currentScene&&(this.babylonService.currentScene.onBeforeRenderObservable.remove(this.floatingObserver),this.floatingObserver=null),this.mapSphere&&this.mapSphere.material){let e=this.mapSphere.material;e.emissiveColor=K.FEEDBACK_COLORS.UNLOCKED,e.emissiveIntensity=2}let t=null;if(this.babylonService.parentBox&&this.babylonService.currentScene){let e=new y("celebrateRotation","rotation.y",30,y.ANIMATIONTYPE_FLOAT,y.ANIMATIONLOOPMODE_CYCLE);e.setKeys([{frame:0,value:this.babylonService.parentBox.rotation.y},{frame:60,value:this.babylonService.parentBox.rotation.y+Math.PI*2}]),this.babylonService.parentBox.animations=[e],t=this.babylonService.currentScene.beginAnimation(this.babylonService.parentBox,0,60,!0)}this.createFlashTransition(()=>{t&&t.stop(),this.cleanupResources(),this.transitionToGridRoom()}).then(()=>{})})}cleanupResources(){this.mapSphere&&(this.mapSphere.dispose(),this.mapSphere=null),this.glowLayer&&(this.glowLayer.dispose(),this.glowLayer=null),this.loadedOuterMap&&(this.loadedOuterMap.dispose(),this.loadedOuterMap=null),this.loadedInnerMap&&(this.loadedInnerMap.dispose(),this.loadedInnerMap=null),this.floatingObserver&&this.babylonService.currentScene&&(this.babylonService.currentScene.onBeforeRenderObservable.remove(this.floatingObserver),this.floatingObserver=null),this.detachPointerObserver()}transitionToGridRoom(){this.ngZone.run(()=>{this.router.navigate(["/holographic-room"]).catch(console.error)})}shakeParentBox(){let t=this.babylonService.parentBox,e=this.babylonService.currentScene;if(!t||!e)return;let i=t.position.clone(),r=Date.now(),o=e.onBeforeRenderObservable.add(()=>{let a=Date.now()-r;a>=oe.SHAKE_DURATION?this.resetShake(o,i):this.applyShakeOffset(a,i)})}resetShake(t,e){let i=this.babylonService.parentBox,r=this.babylonService.currentScene;!i||!r||(i.position.copyFrom(e),r.onBeforeRenderObservable.remove(t))}applyShakeOffset(t,e){let i=this.babylonService.parentBox;if(!i)return;let r=t/oe.SHAKE_DURATION,o=oe.SHAKE_INTENSITY*(1-r),a=t/1e3,l=oe.SHAKE_FREQUENCY*Math.PI*2;i.position.x=e.x+Math.sin(a*l)*o,i.position.y=e.y+Math.cos(a*l)*o*.7,i.position.z=e.z+Math.sin(a*l+Math.PI/3)*o*.5}createFlashTransition(t,e=g.FromHexString("#020205")){let i=this.babylonService.currentScene;return i?new Promise(r=>{if(!i)return r();let o=V.CreatePlane("transitionFlash",{size:500},i),a=i.activeCamera;a&&(o.parent=a,o.position=new P(0,0,5),o.renderingGroupId=3);let l=new W("transitionFlashMaterial",i);l.emissiveColor=e,l.disableLighting=!0,l.backFaceCulling=!1,l.alpha=0,o.material=l,o.isVisible=!0;let u=0,s=2500,h=0,m=1500,v=1700,N=2500,C=!1,O=i.onBeforeRenderObservable.add(()=>{if(u+=i.getEngine().getDeltaTime(),u>=v&&!C&&(C=!0,t()),u<h)l.alpha=0;else if(u<m){let b=(u-h)/(m-h);l.alpha=b*b}else if(u<N){let b=(u-m)/(N-m);l.alpha=1-b*b*b}else l.alpha=0;u>=s&&(O&&i?.onBeforeRenderObservable.remove(O),o.dispose(),l.dispose(),r())})}):Promise.resolve()}rotateCameraByDirection(t){let e=this.babylonService.currentCamera,i=this.babylonService.currentScene;if(!e||!i)return;let r=Math.PI/2,{property:o,currentValue:a,targetValue:l}=this.calculateRotationTarget(t,r,e.alpha,e.beta);this.animateCameraProperty(o,a,l)}calculateRotationTarget(t,e,i,r){switch(t){case"right":return{property:"alpha",currentValue:i,targetValue:i-e};case"left":return{property:"alpha",currentValue:i,targetValue:i+e};case"up":return{property:"beta",currentValue:r,targetValue:Math.max(.1,r+e)};case"down":return{property:"beta",currentValue:r,targetValue:Math.min(Math.PI-.1,r-e)};default:return{property:"alpha",currentValue:0,targetValue:0}}}animateCameraProperty(t,e,i){let r=this.babylonService.currentCamera;r&&y.CreateAndStartAnimation(`cameraRotation_${t}`,r,t,oe.ROTATION_FPS,oe.ROTATION_FRAMES,e,i,y.ANIMATIONLOOPMODE_CONSTANT)}resetCameraToInitialPosition(){!this.babylonService.currentCamera||!this.hasInitialCameraPosition()||(this.animateCameraReset("alpha",this.babylonService.cameraInitialAlpha),this.animateCameraReset("beta",this.babylonService.cameraInitialBeta),this.animateCameraReset("radius",this.babylonService.cameraInitialRadius))}hasInitialCameraPosition(){return this.babylonService.cameraInitialAlpha!==null&&this.babylonService.cameraInitialBeta!==null&&this.babylonService.cameraInitialRadius!==null}animateCameraReset(t,e){let i=this.babylonService.currentCamera;if(!i)return;let r=i[t];y.CreateAndStartAnimation(`resetCamera_${t}`,i,t,oe.ROTATION_FPS,oe.RESET_FRAMES,r,e,y.ANIMATIONLOOPMODE_CONSTANT)}cleanup(){this.cleanupResources(),this.babylonService.dispose()}ngOnDestroy(){this.cleanup()}static \u0275fac=function(e){return new(e||n)(E(Le),E(re),E(Te),E(be),E(q))};static \u0275cmp=X({type:n,selectors:[["app-map-puzzle"]],viewQuery:function(e,i){if(e&1&&Ie(bi,7),e&2){let r;we(r=ke())&&(i.canvasRef=r.first)}},decls:4,vars:1,consts:[["renderCanvas",""],[1,"closed-map-container"],[1,"render-canvas"],[1,"puzzle-hints"],[1,"hint-title",3,"translate"],[1,"sequence-display"],[1,"sequence-step",3,"completed","active"],[1,"swipe-guide-overlay"],[1,"hand-container"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"hand-icon"],["d","M12 2C12.5523 2 13 2.44772 13 3V13C13 13.5523 13.4477 14 14 14C14.5523 14 15 13.5523 15 13V5C15 4.44772 15.4477 4 16 4C16.5523 4 17 4.44772 17 5V13C17 13.5523 17.4477 14 18 14C18.5523 14 19 13.5523 19 13V7C19 6.44772 19.4477 6 20 6C20.5523 6 21 6.44772 21 7V15.5C21 19.0899 18.0899 22 14.5 22H9.5C5.91015 22 3 19.0899 3 15.5V11C3 10.4477 3.44772 10 4 10C4.5523 10 5 10.4477 5 11V16C5 16.5523 5.44772 17 6 17C6.5523 17 7 16.5523 7 16V3C7 2.44772 7.44772 2 8 2C8.5523 2 9 2.44772 9 3V11C9 11.5523 9.44772 12 10 12C10.5523 12 11 11.5523 11 11V3C11 2.44772 11.4477 2 12 2Z","fill","currentColor"],[1,"touch-point"],[1,"guide-text"],[3,"translate"],[1,"sequence-step"],["viewBox","0 0 24 24",1,"step-icon"],["fill","currentColor","d","M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"],["fill","currentColor","d","M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"],["fill","currentColor","d","M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"]],template:function(e,i){e&1&&(p(0,"div",1),S(1,"canvas",2,0),I(3,Ti,14,8),d()),e&2&&(c(3),w(!i.puzzleStore.isUnlocked()&&!i.puzzleStore.isLoading()?3:-1))},dependencies:[Ne,De],styles:[".closed-map-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;background-color:var(--bg-space);overflow:hidden}.render-canvas[_ngcontent-%COMP%]{width:100%;height:100%;display:block;outline:none;cursor:grab}.render-canvas[_ngcontent-%COMP%]:active{cursor:grabbing}.puzzle-hints[_ngcontent-%COMP%]{position:absolute;top:1rem;left:50%;transform:translate(-50%);background:#020205d9;padding:1rem 1.5rem;border-radius:12px;border:2px solid var(--color-gold);box-shadow:0 0 20px #c7883580;z-index:100;pointer-events:none}.hint-title[_ngcontent-%COMP%]{color:var(--color-gold);font-size:2rem;text-transform:uppercase;margin-bottom:.5rem;text-align:center}.sequence-display[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center}.sequence-step[_ngcontent-%COMP%]{padding:.5rem;background:#c7883526;border:1px solid var(--color-gold);border-radius:6px;color:var(--color-gold);font-size:1.8rem;font-weight:600;transition:all .3s ease;opacity:.5;min-width:3.5rem;min-height:3.5rem;display:flex;align-items:center;justify-content:center;will-change:color;transform:translateZ(0)}.step-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;display:block}.sequence-step.active[_ngcontent-%COMP%]{opacity:1;background:#c788354d;box-shadow:0 0 15px #c7883599;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.sequence-step.completed[_ngcontent-%COMP%]{opacity:1;background:#0f03;border-color:#0f0;color:#0f0}.swipe-guide-overlay[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:1.5rem;pointer-events:none;z-index:90;opacity:.8}.guide-text[_ngcontent-%COMP%]{color:#fff;font-family:TreasurePlanet,sans-serif;font-size:1.5rem;letter-spacing:2px;text-shadow:0 0 10px rgba(199,136,53,.8);animation:_ngcontent-%COMP%_textFade 2s infinite;text-align:center}.hand-container[_ngcontent-%COMP%]{position:relative;width:2rem;height:2rem}.hand-icon[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;filter:drop-shadow(0 0 5px var(--color-neon));position:relative;z-index:2}.touch-point[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:20px;height:20px;background:var(--color-neon);border-radius:50%;transform:translate(-50%);opacity:0;box-shadow:0 0 15px var(--color-neon);z-index:1}.hand-container.anim-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_swipeRight 2s infinite ease-in-out}.hand-container.anim-right[_ngcontent-%COMP%]   .touch-point[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_touchPressRight 2s infinite ease-in-out}.hand-container.anim-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_swipeDown 2s infinite ease-in-out}.hand-container.anim-down[_ngcontent-%COMP%]   .touch-point[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_touchPressDown 2s infinite ease-in-out}.hand-container.anim-left[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_swipeLeft 2s infinite ease-in-out}.hand-container.anim-left[_ngcontent-%COMP%]   .touch-point[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_touchPressLeft 2s infinite ease-in-out}@keyframes _ngcontent-%COMP%_swipeRight{0%{transform:translate(-3rem) rotate(-10deg);opacity:0}20%{transform:translate(-3rem) rotate(-10deg);opacity:1}60%{transform:translate(3rem) rotate(0);opacity:1}80%{transform:translate(3rem) rotate(0);opacity:0}to{transform:translate(3rem) rotate(0);opacity:0}}@keyframes _ngcontent-%COMP%_swipeDown{0%{transform:translateY(-1.5rem);opacity:0}20%{transform:translateY(-1.5rem);opacity:1}60%{transform:translateY(1.5rem);opacity:1}80%{transform:translateY(1.5rem);opacity:0}to{transform:translateY(1.5rem);opacity:0}}@keyframes _ngcontent-%COMP%_swipeLeft{0%{transform:translate(3rem) rotate(10deg);opacity:0}20%{transform:translate(3rem) rotate(10deg);opacity:1}60%{transform:translate(-3rem) rotate(0);opacity:1}80%{transform:translate(-3rem) rotate(0);opacity:0}to{transform:translate(-3rem) rotate(0);opacity:0}}@keyframes _ngcontent-%COMP%_touchPressRight{0%,15%{opacity:0;transform:translate(-50%) scale(.5)}20%{opacity:.8;transform:translate(-50%) scale(1)}60%{opacity:.8;transform:translate(-50%) scale(1)}70%,to{opacity:0;transform:translate(-50%) scale(.5)}}@keyframes _ngcontent-%COMP%_touchPressDown{0%,15%{opacity:0;transform:translate(-50%) scale(.5)}20%{opacity:.8;transform:translate(-50%) scale(1)}60%{opacity:.8;transform:translate(-50%) scale(1)}70%,to{opacity:0;transform:translate(-50%) scale(.5)}}@keyframes _ngcontent-%COMP%_touchPressLeft{0%,15%{opacity:0;transform:translate(-50%) scale(.5)}20%{opacity:.8;transform:translate(-50%) scale(1)}60%{opacity:.8;transform:translate(-50%) scale(1)}70%,to{opacity:0;transform:translate(-50%) scale(.5)}}@keyframes _ngcontent-%COMP%_textFade{0%,to{opacity:.1}50%{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);box-shadow:0 0 15px #c7883599}50%{transform:scale(1.05);box-shadow:0 0 25px #c78835e6}}@media(max-width:768px){.puzzle-hints[_ngcontent-%COMP%]{top:10px;padding:15px 20px}.sequence-display[_ngcontent-%COMP%]{gap:10px}.sequence-step[_ngcontent-%COMP%]{padding:6px 12px;font-size:.75rem}.swipe-guide-overlay[_ngcontent-%COMP%]{top:60%}}"]})};var _=(()=>{class n{constructor(e,i){this.triggerOptions=e,this.onBeforeExecuteObservable=new It,e.parameter?(this.trigger=e.trigger,this._triggerParameter=e.parameter):e.trigger?this.trigger=e.trigger:this.trigger=e,this._nextActiveAction=this,this._condition=i}_prepare(){}getTriggerParameter(){return this._triggerParameter}setTriggerParameter(e){this._triggerParameter=e}_evaluateConditionForCurrentFrame(){let e=this._condition;if(!e)return!0;let i=this._actionManager.getScene().getRenderId();return e._evaluationId!==i&&(e._evaluationId=i,e._currentResult=e.isValid()),e._currentResult}_executeCurrent(e){this._evaluateConditionForCurrentFrame()&&(this.onBeforeExecuteObservable.notifyObservers(this),this._nextActiveAction.execute(e),this.skipToNextActiveAction())}execute(e){}skipToNextActiveAction(){this._nextActiveAction._child?(this._nextActiveAction._child._actionManager||(this._nextActiveAction._child._actionManager=this._actionManager),this._nextActiveAction=this._nextActiveAction._child):this._nextActiveAction=this}then(e){return this._child=e,e._actionManager=this._actionManager,e._prepare(),e}_getProperty(e){return this._actionManager._getProperty(e)}_getEffectiveTarget(e,i){return this._actionManager._getEffectiveTarget(e,i)}serialize(e){return null}_serialize(e,i){let r={type:1,children:[],name:e.name,properties:e.properties||[]};if(this._child&&this._child.serialize(r),this._condition){let o=this._condition.serialize();return o.children.push(r),i&&i.children.push(o),o}return i&&i.children.push(r),r}}return n._SerializeValueAsString=t=>typeof t=="number"?t.toString():typeof t=="boolean"?t?"true":"false":t instanceof zt?t.x+", "+t.y:t instanceof P?t.x+", "+t.y+", "+t.z:t instanceof g?t.r+", "+t.g+", "+t.b:t instanceof H?t.r+", "+t.g+", "+t.b+", "+t.a:t,n._GetTargetProperty=t=>({name:"target",targetType:t._isMesh?"MeshProperties":t._isLight?"LightProperties":t._isCamera?"CameraProperties":t._isMaterial?"MaterialProperties":"SceneProperties",value:t._isScene?"Scene":t.name}),n})();M("BABYLON.Action",_);var ae=class{constructor(t){this._actionManager=t}isValid(){return!0}_getProperty(t){return this._actionManager._getProperty(t)}_getEffectiveTarget(t,e){return this._actionManager._getEffectiveTarget(t,e)}serialize(){}_serialize(t){return{type:2,children:[],name:t.name,properties:t.properties}}},it=(()=>{class n extends ae{static get IsEqual(){return n._IsEqual}static get IsDifferent(){return n._IsDifferent}static get IsGreater(){return n._IsGreater}static get IsLesser(){return n._IsLesser}constructor(e,i,r,o,a=n.IsEqual){super(e),this.propertyPath=r,this.value=o,this.operator=a,this._target=i,this._effectiveTarget=this._getEffectiveTarget(i,this.propertyPath),this._property=this._getProperty(this.propertyPath)}isValid(){switch(this.operator){case n.IsGreater:return this._effectiveTarget[this._property]>this.value;case n.IsLesser:return this._effectiveTarget[this._property]<this.value;case n.IsEqual:case n.IsDifferent:{let e;return this.value.equals?e=this.value.equals(this._effectiveTarget[this._property]):e=this.value===this._effectiveTarget[this._property],this.operator===n.IsEqual?e:!e}}return!1}serialize(){return this._serialize({name:"ValueCondition",properties:[_._GetTargetProperty(this._target),{name:"propertyPath",value:this.propertyPath},{name:"value",value:_._SerializeValueAsString(this.value)},{name:"operator",value:n.GetOperatorName(this.operator)}]})}static GetOperatorName(e){switch(e){case n._IsEqual:return"IsEqual";case n._IsDifferent:return"IsDifferent";case n._IsGreater:return"IsGreater";case n._IsLesser:return"IsLesser";default:return""}}}return n._IsEqual=0,n._IsDifferent=1,n._IsGreater=2,n._IsLesser=3,n})(),et=class extends ae{constructor(t,e){super(t),this.predicate=e}isValid(){return this.predicate()}},tt=class extends ae{constructor(t,e,i){super(t),this.value=i,this._target=e}isValid(){return this._target.state===this.value}serialize(){return this._serialize({name:"StateCondition",properties:[_._GetTargetProperty(this._target),{name:"value",value:this.value}]})}};M("BABYLON.ValueCondition",it);M("BABYLON.PredicateCondition",et);M("BABYLON.StateCondition",tt);var nt=class extends _{constructor(t,e,i,r){super(t,r),this.propertyPath=i,this._target=this._effectiveTarget=e}_prepare(){this._effectiveTarget=this._getEffectiveTarget(this._effectiveTarget,this.propertyPath),this._property=this._getProperty(this.propertyPath)}execute(){this._effectiveTarget[this._property]=!this._effectiveTarget[this._property]}serialize(t){return super._serialize({name:"SwitchBooleanAction",properties:[_._GetTargetProperty(this._target),{name:"propertyPath",value:this.propertyPath}]},t)}},rt=class extends _{constructor(t,e,i,r){super(t,r),this.value=i,this._target=e}execute(){this._target.state=this.value}serialize(t){return super._serialize({name:"SetStateAction",properties:[_._GetTargetProperty(this._target),{name:"value",value:this.value}]},t)}},ot=class extends _{constructor(t,e,i,r,o){super(t,o),this.propertyPath=i,this.value=r,this._target=this._effectiveTarget=e}_prepare(){this._effectiveTarget=this._getEffectiveTarget(this._effectiveTarget,this.propertyPath),this._property=this._getProperty(this.propertyPath)}execute(){this._effectiveTarget[this._property]=this.value,this._target.markAsDirty&&this._target.markAsDirty(this._property)}serialize(t){return super._serialize({name:"SetValueAction",properties:[_._GetTargetProperty(this._target),{name:"propertyPath",value:this.propertyPath},{name:"value",value:_._SerializeValueAsString(this.value)}]},t)}},at=class extends _{constructor(t,e,i,r,o){super(t,o),this.propertyPath=i,this.value=r,this._target=this._effectiveTarget=e}_prepare(){this._effectiveTarget=this._getEffectiveTarget(this._effectiveTarget,this.propertyPath),this._property=this._getProperty(this.propertyPath),typeof this._effectiveTarget[this._property]!="number"&&ze.Warn("Warning: IncrementValueAction can only be used with number values")}execute(){this._effectiveTarget[this._property]+=this.value,this._target.markAsDirty&&this._target.markAsDirty(this._property)}serialize(t){return super._serialize({name:"IncrementValueAction",properties:[_._GetTargetProperty(this._target),{name:"propertyPath",value:this.propertyPath},{name:"value",value:_._SerializeValueAsString(this.value)}]},t)}},st=class extends _{constructor(t,e,i,r,o,a){super(t,a),this.from=i,this.to=r,this.loop=o,this._target=e}_prepare(){}execute(){this._actionManager.getScene().beginAnimation(this._target,this.from,this.to,this.loop)}serialize(t){return super._serialize({name:"PlayAnimationAction",properties:[_._GetTargetProperty(this._target),{name:"from",value:String(this.from)},{name:"to",value:String(this.to)},{name:"loop",value:_._SerializeValueAsString(this.loop)||!1}]},t)}},lt=class extends _{constructor(t,e,i){super(t,i),this._target=e}_prepare(){}execute(){this._actionManager.getScene().stopAnimation(this._target)}serialize(t){return super._serialize({name:"StopAnimationAction",properties:[_._GetTargetProperty(this._target)]},t)}},Pe=class extends _{constructor(t=0,e){super(t,e)}execute(){}serialize(t){return super._serialize({name:"DoNothingAction",properties:[]},t)}},ct=class extends _{constructor(t,e,i,r=!0){super(t,i),this.children=e,this.enableChildrenConditions=r}_prepare(){for(let t=0;t<this.children.length;t++)this.children[t]._actionManager=this._actionManager,this.children[t]._prepare()}execute(t){for(let e of this.children)(!this.enableChildrenConditions||e._evaluateConditionForCurrentFrame())&&e.execute(t)}serialize(t){let e=super._serialize({name:"CombineAction",properties:[],combine:[]},t);for(let i=0;i<this.children.length;i++)e.combine.push(this.children[i].serialize(null));return e}},ce=class extends _{constructor(t,e,i){super(t,i),this.func=e}execute(t){this.func(t)}},Fe=class extends _{constructor(t,e,i,r){super(t,r),this._target=e,this._parent=i}_prepare(){}execute(){if(this._target.parent===this._parent)return;let t=this._parent.getWorldMatrix().clone();t.invert(),this._target.position=P.TransformCoordinates(this._target.position,t),this._target.parent=this._parent}serialize(t){return super._serialize({name:"SetParentAction",properties:[_._GetTargetProperty(this._target),_._GetTargetProperty(this._parent)]},t)}};M("BABYLON.SetParentAction",Fe);M("BABYLON.ExecuteCodeAction",ce);M("BABYLON.DoNothingAction",Pe);M("BABYLON.StopAnimationAction",lt);M("BABYLON.PlayAnimationAction",st);M("BABYLON.IncrementValueAction",at);M("BABYLON.SetValueAction",ot);M("BABYLON.SetStateAction",rt);M("BABYLON.SetParentAction",Fe);M("BABYLON.SwitchBooleanAction",nt);M("BABYLON.CombineAction",ct);var ge=(()=>{class n extends Bt{constructor(e){super(),e=e||kt.LastCreatedScene,e&&(this._scene=e,e.actionManagers.push(this))}dispose(){let e=this._scene.actionManagers.indexOf(this);for(let r=0;r<this.actions.length;r++){let o=this.actions[r];n.Triggers[o.trigger]--,n.Triggers[o.trigger]===0&&delete n.Triggers[o.trigger]}this.actions.length=0,e>-1&&this._scene.actionManagers.splice(e,1);let i=this._scene.meshes.filter(r=>r.actionManager===this);for(let r of i)r.actionManager=null}getScene(){return this._scene}hasSpecificTriggers(e){for(let i=0;i<this.actions.length;i++){let r=this.actions[i];if(e.indexOf(r.trigger)>-1)return!0}return!1}hasSpecificTriggers2(e,i){for(let r=0;r<this.actions.length;r++){let o=this.actions[r];if(e==o.trigger||i==o.trigger)return!0}return!1}hasSpecificTrigger(e,i){for(let r=0;r<this.actions.length;r++){let o=this.actions[r];if(o.trigger===e)if(i){if(i(o.getTriggerParameter()))return!0}else return!0}return!1}get hasPointerTriggers(){for(let e=0;e<this.actions.length;e++){let i=this.actions[e];if(i.trigger>=n.OnPickTrigger&&i.trigger<=n.OnPointerOutTrigger&&i._evaluateConditionForCurrentFrame())return!0}return!1}get hasPickTriggers(){for(let e=0;e<this.actions.length;e++){let i=this.actions[e];if(i.trigger>=n.OnPickTrigger&&i.trigger<=n.OnPickUpTrigger&&i._evaluateConditionForCurrentFrame())return!0}return!1}registerAction(e){return e.trigger===n.OnEveryFrameTrigger&&this.getScene().actionManager!==this?(ze.Warn("OnEveryFrameTrigger can only be used with scene.actionManager"),null):(this.actions.push(e),this.getScene()._registeredActions++,n.Triggers[e.trigger]?n.Triggers[e.trigger]++:n.Triggers[e.trigger]=1,e._actionManager=this,e._prepare(),e)}unregisterAction(e){let i=this.actions.indexOf(e);return i!==-1?(this.actions.splice(i,1),n.Triggers[e.trigger]-=1,n.Triggers[e.trigger]===0&&delete n.Triggers[e.trigger],e._actionManager=null,this.getScene()._registeredActions--,!0):!1}processTrigger(e,i){for(let r=0;r<this.actions.length;r++){let o=this.actions[r];if(o.trigger===e){if(i&&(e===n.OnKeyUpTrigger||e===n.OnKeyDownTrigger)){let a=o.getTriggerParameter();if(typeof a=="function"){if(!a(i))continue}else if(a&&a!==i.sourceEvent.keyCode){if(!a.toLowerCase)continue;let l=a.toLowerCase();if(l!==i.sourceEvent.key){let u=i.sourceEvent.charCode?i.sourceEvent.charCode:i.sourceEvent.keyCode;if(String.fromCharCode(u).toLowerCase()!==l)continue}}}o._executeCurrent(i)}}}_getEffectiveTarget(e,i){let r=i.split(".");for(let o=0;o<r.length-1;o++)e=e[r[o]];return e}_getProperty(e){let i=e.split(".");return i[i.length-1]}serialize(e){let i={children:[],name:e,type:3,properties:[]};for(let r=0;r<this.actions.length;r++){let o={type:0,children:[],name:n.GetTriggerName(this.actions[r].trigger),properties:[]},a=this.actions[r].triggerOptions;if(a&&typeof a!="number")if(a.parameter instanceof Node)o.properties.push(_._GetTargetProperty(a.parameter));else if(typeof a.parameter=="object"){let l={};wt.DeepCopy(a.parameter,l,["mesh"]),a.parameter&&a.parameter.mesh&&(l._meshId=a.parameter.mesh.id),o.properties.push({name:"parameter",targetType:null,value:l})}else o.properties.push({name:"parameter",targetType:null,value:a.parameter});this.actions[r].serialize(o),i.children.push(o)}return i}static Parse(e,i,r){let o=new n(r);i===null?r.actionManager=o:i.actionManager=o;let a=(s,h)=>{let m=Nt("BABYLON."+s);return m&&new m(...h)},l=(s,h,m,v)=>{if(v===null){let b=parseFloat(h);return h==="true"||h==="false"?h==="true":isNaN(b)?h:b}let N=v.split("."),C=h.split(",");for(let b=0;b<N.length;b++)m=m[N[b]];if(typeof m=="boolean")return C[0]==="true";if(typeof m=="string")return C[0];let O=[];for(let b=0;b<C.length;b++)O.push(parseFloat(C[b]));return m instanceof P?P.FromArray(O):m instanceof ye?ye.FromArray(O):m instanceof g?g.FromArray(O):m instanceof H?H.FromArray(O):parseFloat(C[0])},u=(s,h,m,v,N=null)=>{if(s.detached)return;let C=[],O=null,b=null,j=s.combine&&s.combine.length>0;if(s.type===2?C.push(o):C.push(h),j){let A=[];for(let T=0;T<s.combine.length;T++)u(s.combine[T],n.NothingTrigger,m,v,A);C.push(A)}else for(let A=0;A<s.properties.length;A++){let T=s.properties[A].value,se=s.properties[A].name,ut=s.properties[A].targetType;se==="target"?ut==="SceneProperties"?T=O=r:ut==="MaterialProperties"?T=O=r.getMaterialByName(T):T=O=r.getNodeByName(T):se==="parent"?T=r.getNodeByName(T):se==="sound"?r.getSoundByName&&(T=r.getSoundByName(T)):se!=="propertyPath"?s.type===2&&se==="operator"?T=it[T]:T=l(se,T,O,se==="value"?b:null):b=T,C.push(T)}if(N===null?C.push(m):C.push(null),s.name==="InterpolateValueAction"){let A=C[C.length-2];C[C.length-1]=A,C[C.length-2]=m}let Z=a(s.name,C);if(Z instanceof ae&&m!==null){let A=new Pe(h,m);v?v.then(A):o.registerAction(A),v=A}N===null?Z instanceof ae?(m=Z,Z=v):(m=null,v?v.then(Z):o.registerAction(Z)):N.push(Z);for(let A=0;A<s.children.length;A++)u(s.children[A],h,m,Z,null)};for(let s=0;s<e.children.length;s++){let h,m=e.children[s];if(m.properties.length>0){let v=m.properties[0].value,N=m.properties[0].targetType===null?v:r.getMeshByName(v);N._meshId&&(N.mesh=r.getMeshById(N._meshId)),h={trigger:n[m.name],parameter:N}}else h=n[m.name];for(let v=0;v<m.children.length;v++)m.detached||u(m.children[v],h,null,null)}}static GetTriggerName(e){switch(e){case 0:return"NothingTrigger";case 1:return"OnPickTrigger";case 2:return"OnLeftPickTrigger";case 3:return"OnRightPickTrigger";case 4:return"OnCenterPickTrigger";case 5:return"OnPickDownTrigger";case 6:return"OnDoublePickTrigger";case 7:return"OnPickUpTrigger";case 8:return"OnLongPressTrigger";case 9:return"OnPointerOverTrigger";case 10:return"OnPointerOutTrigger";case 11:return"OnEveryFrameTrigger";case 12:return"OnIntersectionEnterTrigger";case 13:return"OnIntersectionExitTrigger";case 14:return"OnKeyDownTrigger";case 15:return"OnKeyUpTrigger";case 16:return"OnPickOutTrigger";default:return""}}}return n.NothingTrigger=0,n.OnPickTrigger=1,n.OnLeftPickTrigger=2,n.OnRightPickTrigger=3,n.OnCenterPickTrigger=4,n.OnPickDownTrigger=5,n.OnDoublePickTrigger=6,n.OnPickUpTrigger=7,n.OnPickOutTrigger=16,n.OnLongPressTrigger=8,n.OnPointerOverTrigger=9,n.OnPointerOutTrigger=10,n.OnEveryFrameTrigger=11,n.OnIntersectionEnterTrigger=12,n.OnIntersectionExitTrigger=13,n.OnKeyDownTrigger=14,n.OnKeyUpTrigger=15,n})();var ci="imageProcessingCompatibility",Ei=`#ifdef IMAGEPROCESSINGPOSTPROCESS
gl_FragColor.rgb=pow(gl_FragColor.rgb,vec3(2.2));
#endif
`;$.IncludesShadersStore[ci]||($.IncludesShadersStore[ci]=Ei);var pi="gridPixelShader",Ai=`#extension GL_OES_standard_derivatives : enable
#define SQRT2 1.41421356
#define PI 3.14159
precision highp float;uniform float visibility;uniform vec3 mainColor;uniform vec3 lineColor;uniform vec4 gridControl;uniform vec3 gridOffset;varying vec3 vPosition;varying vec3 vNormal;
#ifdef LOGARITHMICDEPTH
#extension GL_EXT_frag_depth : enable
#endif
#include<clipPlaneFragmentDeclaration>
#include<logDepthDeclaration>
#include<fogFragmentDeclaration>
#ifdef OPACITY
varying vec2 vOpacityUV;uniform sampler2D opacitySampler;uniform vec2 vOpacityInfos;
#endif
float getDynamicVisibility(float position) {float majorGridFrequency=gridControl.y;if (floor(position+0.5)==floor(position/majorGridFrequency+0.5)*majorGridFrequency)
{return 1.0;}
return gridControl.z;}
float getAnisotropicAttenuation(float differentialLength) {const float maxNumberOfLines=10.0;return clamp(1.0/(differentialLength+1.0)-1.0/maxNumberOfLines,0.0,1.0);}
float isPointOnLine(float position,float differentialLength) {float fractionPartOfPosition=position-floor(position+0.5); 
fractionPartOfPosition/=differentialLength; 
#ifdef ANTIALIAS
fractionPartOfPosition=clamp(fractionPartOfPosition,-1.,1.);float result=0.5+0.5*cos(fractionPartOfPosition*PI); 
return result;
#else
return abs(fractionPartOfPosition)<SQRT2/4. ? 1. : 0.;
#endif
}
float contributionOnAxis(float position) {float differentialLength=length(vec2(dFdx(position),dFdy(position)));differentialLength*=SQRT2; 
float result=isPointOnLine(position,differentialLength);float dynamicVisibility=getDynamicVisibility(position);result*=dynamicVisibility;float anisotropicAttenuation=getAnisotropicAttenuation(differentialLength);result*=anisotropicAttenuation;return result;}
float normalImpactOnAxis(float x) {float normalImpact=clamp(1.0-3.0*abs(x*x*x),0.0,1.0);return normalImpact;}
#define CUSTOM_FRAGMENT_DEFINITIONS
void main(void) {
#define CUSTOM_FRAGMENT_MAIN_BEGIN
#include<clipPlaneFragment>
float gridRatio=gridControl.x;vec3 gridPos=(vPosition+gridOffset.xyz)/gridRatio;float x=contributionOnAxis(gridPos.x);float y=contributionOnAxis(gridPos.y);float z=contributionOnAxis(gridPos.z);vec3 normal=normalize(vNormal);x*=normalImpactOnAxis(normal.x);y*=normalImpactOnAxis(normal.y);z*=normalImpactOnAxis(normal.z);
#ifdef MAX_LINE
float grid=clamp(max(max(x,y),z),0.,1.);
#else
float grid=clamp(x+y+z,0.,1.);
#endif
vec3 color=mix(mainColor,lineColor,grid);
#ifdef FOG
#include<fogFragment>
#endif
float opacity=1.0;
#ifdef TRANSPARENT
opacity=clamp(grid,0.08,gridControl.w*grid);
#endif
#ifdef OPACITY
opacity*=texture2D(opacitySampler,vOpacityUV).a;
#endif
gl_FragColor=vec4(color.rgb,opacity*visibility);
#ifdef TRANSPARENT
#ifdef PREMULTIPLYALPHA
gl_FragColor.rgb*=opacity;
#endif
#else
#endif
#include<logDepthFragment>
#include<imageProcessingCompatibility>
#define CUSTOM_FRAGMENT_MAIN_END
}
`;$.ShadersStore[pi]||($.ShadersStore[pi]=Ai);var di="gridVertexShader",Ii=`precision highp float;attribute vec3 position;attribute vec3 normal;
#ifdef UV1
attribute vec2 uv;
#endif
#ifdef UV2
attribute vec2 uv2;
#endif
#include<instancesDeclaration>
#include<__decl__sceneVertex>
varying vec3 vPosition;varying vec3 vNormal;
#include<logDepthDeclaration>
#include<fogVertexDeclaration>
#ifdef OPACITY
varying vec2 vOpacityUV;uniform mat4 opacityMatrix;uniform vec2 vOpacityInfos;
#endif
#include<clipPlaneVertexDeclaration>
#define CUSTOM_VERTEX_DEFINITIONS
void main(void) {
#define CUSTOM_VERTEX_MAIN_BEGIN
#include<instancesVertex>
vec4 worldPos=finalWorld*vec4(position,1.0);
#include<fogVertex>
vec4 cameraSpacePosition=view*worldPos;gl_Position=projection*cameraSpacePosition;
#ifdef OPACITY
#ifndef UV1
vec2 uv=vec2(0.,0.);
#endif
#ifndef UV2
vec2 uv2=vec2(0.,0.);
#endif
if (vOpacityInfos.x==0.)
{vOpacityUV=vec2(opacityMatrix*vec4(uv,1.0,0.0));}
else
{vOpacityUV=vec2(opacityMatrix*vec4(uv2,1.0,0.0));}
#endif 
#include<clipPlaneVertex>
#include<logDepthVertex>
vPosition=position;vNormal=normal;
#define CUSTOM_VERTEX_MAIN_END
}`;$.ShadersStore[di]||($.ShadersStore[di]=Ii);var pt=class extends qt{constructor(){super(),this.CLIPPLANE=!1,this.CLIPPLANE2=!1,this.CLIPPLANE3=!1,this.CLIPPLANE4=!1,this.CLIPPLANE5=!1,this.CLIPPLANE6=!1,this.OPACITY=!1,this.ANTIALIAS=!1,this.TRANSPARENT=!1,this.FOG=!1,this.PREMULTIPLYALPHA=!1,this.MAX_LINE=!1,this.UV1=!1,this.UV2=!1,this.INSTANCES=!1,this.THIN_INSTANCES=!1,this.IMAGEPROCESSINGPOSTPROCESS=!1,this.SKIPFINALCOLORCLAMP=!1,this.LOGARITHMICDEPTH=!1,this.rebuild()}},k=class n extends Kt{constructor(t,e){super(t,e),this.mainColor=g.Black(),this.lineColor=g.Teal(),this.gridRatio=1,this.gridOffset=P.Zero(),this.majorUnitFrequency=10,this.minorUnitVisibility=.33,this.opacity=1,this.antialias=!0,this.preMultiplyAlpha=!1,this.useMaxLine=!1,this._gridControl=new ye(this.gridRatio,this.majorUnitFrequency,this.minorUnitVisibility,this.opacity)}needAlphaBlending(){return this.opacity<1||this._opacityTexture&&this._opacityTexture.isReady()}needAlphaBlendingForMesh(t){return t.visibility<1||this.needAlphaBlending()}isReadyForSubMesh(t,e,i){let r=e._drawWrapper;if(this.isFrozen&&r.effect&&r._wasPreviouslyReady&&r._wasPreviouslyUsingInstances===i)return!0;e.materialDefines||(e.materialDefines=new pt);let o=e.materialDefines,a=this.getScene();if(this._isReadyForSubMesh(e))return!0;if(o.TRANSPARENT!==this.opacity<1&&(o.TRANSPARENT=!o.TRANSPARENT,o.markAsUnprocessed()),o.PREMULTIPLYALPHA!=this.preMultiplyAlpha&&(o.PREMULTIPLYALPHA=!o.PREMULTIPLYALPHA,o.markAsUnprocessed()),o.MAX_LINE!==this.useMaxLine&&(o.MAX_LINE=!o.MAX_LINE,o.markAsUnprocessed()),o.ANTIALIAS!==this.antialias&&(o.ANTIALIAS=!o.ANTIALIAS,o.markAsUnprocessed()),o._areTexturesDirty&&(o._needUVs=!1,a.texturesEnabled&&this._opacityTexture&&We.OpacityTextureEnabled))if(this._opacityTexture.isReady())o._needUVs=!0,o.OPACITY=!0;else return!1;if(Yt(t,a,this._useLogarithmicDepth,!1,this.fogEnabled,!1,o,void 0,void 0,void 0,this._isVertexOutputInvariant),$t(a,a.getEngine(),this,o,!!i),o.isDirty){o.markAsProcessed(),a.resetCachedMaterial(),Wt(t,o,!1,!1);let l=[Se.PositionKind,Se.NormalKind];o.UV1&&l.push(Se.UVKind),o.UV2&&l.push(Se.UV2Kind),o.IMAGEPROCESSINGPOSTPROCESS=a.imageProcessingConfiguration.applyByPostProcess,Ht(l,o);let u=["projection","mainColor","lineColor","gridControl","gridOffset","vFogInfos","vFogColor","world","view","opacityMatrix","vOpacityInfos","visibility","logarithmicDepthConstant"],s=o.toString();Vt(u),e.setEffect(a.getEngine().createEffect("grid",{attributes:l,uniformsNames:u,uniformBuffersNames:["Scene"],samplers:["opacitySampler"],defines:s,fallbacks:null,onCompiled:this.onCompiled,onError:this.onError},a.getEngine()),o,this._materialContext)}return!e.effect||!e.effect.isReady()?!1:(o._renderId=a.getRenderId(),r._wasPreviouslyReady=!0,r._wasPreviouslyUsingInstances=!!i,!0)}bindForSubMesh(t,e,i){let r=this.getScene(),o=i.materialDefines;if(!o)return;let a=i.effect;a&&(this._activeEffect=a,this._activeEffect.setFloat("visibility",e.visibility),(!o.INSTANCES||o.THIN_INSTANCE)&&this.bindOnlyWorldMatrix(t),this.bindView(a),this.bindViewProjection(a),this._mustRebind(r,a,i)&&(this._activeEffect.setColor3("mainColor",this.mainColor),this._activeEffect.setColor3("lineColor",this.lineColor),this._activeEffect.setVector3("gridOffset",this.gridOffset),this._gridControl.x=this.gridRatio,this._gridControl.y=Math.round(this.majorUnitFrequency),this._gridControl.z=this.minorUnitVisibility,this._gridControl.w=this.opacity,this._activeEffect.setVector4("gridControl",this._gridControl),this._opacityTexture&&We.OpacityTextureEnabled&&(this._activeEffect.setTexture("opacitySampler",this._opacityTexture),this._activeEffect.setFloat2("vOpacityInfos",this._opacityTexture.coordinatesIndex,this._opacityTexture.level),this._activeEffect.setMatrix("opacityMatrix",this._opacityTexture.getTextureMatrix())),jt(a,this,r),this._useLogarithmicDepth&&Ut(o,a,r)),Gt(r,e,this._activeEffect),this._afterBind(e,this._activeEffect,i))}dispose(t){super.dispose(t)}clone(t){return Ye.Clone(()=>new n(t,this.getScene()),this)}serialize(){let t=super.serialize();return t.customType="BABYLON.GridMaterial",t}getClassName(){return"GridMaterial"}static Parse(t,e,i){return Ye.Parse(()=>new n(t.name,e),t,e,i)}};F([He()],k.prototype,"mainColor",void 0);F([He()],k.prototype,"lineColor",void 0);F([ne()],k.prototype,"gridRatio",void 0);F([Rt()],k.prototype,"gridOffset",void 0);F([ne()],k.prototype,"majorUnitFrequency",void 0);F([ne()],k.prototype,"minorUnitVisibility",void 0);F([ne()],k.prototype,"opacity",void 0);F([ne()],k.prototype,"antialias",void 0);F([ne()],k.prototype,"preMultiplyAlpha",void 0);F([ne()],k.prototype,"useMaxLine",void 0);F([Lt("opacityTexture")],k.prototype,"_opacityTexture",void 0);F([Dt("_markAllSubMeshesAsTexturesDirty")],k.prototype,"opacityTexture",void 0);M("BABYLON.GridMaterial",k);var dt=[{id:"about",title:"DAVID ALVARADO",label:"KNOW ME",type:"about",position:[0,2,0],content:{avatar:"assets/images/david_tp.jpg",role:"Full-Stack Developer (Front-end Focused)",location:"Ecuador",bio:["I blend technical precision with artistic creativity. With over 5 years of software development experience, I specialize in designing and implementing scalable architectures using modern FrontEnd and BackEnd technologies and frameworks, carefully selecting the best architecture based on each project's specific requirements.","Beyond the screen, I enjoy singing and creating content. On my YouTube channel, I translate and perform songs, applying the same dedication to my musical production as I do to software quality.","I value autonomy and trust. I'm a responsible leader who fosters good communication and a positive environment, believing that quality software is built by happy, self-managed teams."],socials:{youtube:"https://www.youtube.com/@D4veCovers",linkedin:"https://linkedin.com/in/david-alvarado-dev/",email:"frealvaradoc@gmail.com"},softSkills:["Detail Oriented","Good Communication","Autonomous","Team Player"]}},{id:"experience",title:"CAREER LOG",label:"CAREER",type:"experience",position:[-4,0,2],content:[{company:"StickerStoke S.A.S",role:"Front-End Tech Lead",period:"2021 - 2025",desc:"Led the technological vision for a real-time vehicle customization platform.",highlights:["Collaborated in the architecture, design and development of a vector editor with 3D visualization, contributing to the development of a patentable algorithm using Babylon.js & Angular.","Developed and implemented internal tools that improved work organization, reduced development times and increased team productivity.","Managed AWS/Docker pipelines for CI/CD efficiency.","Implemented a complete e-commerce ecosystem: marketplace, shopping cart, payments, billing and administrative panel."]},{company:"GoData Ecuador",role:"Tech Lead",period:"2020 - 2021",desc:"Directed banking operations digitalization.",highlights:["Led a squad of 4 developers using Agile/Scrum methodologies.","Designed the architecture and developed a complete management system for banking policy handling.","Supervised JBoss deployments and backend integration coordination with Java-Spring Boot, ensuring stable and secure system operation."]},{company:"Full Stack Freelancer",role:"Full Stack Developer",period:"2019 - 2020",desc:"Developed and deployed custom web solutions and digital transformations.",highlights:["Designed SEO-optimized websites increasing client visibility.","Built custom WordPress plugins for automated workflows.","Developed full-stack apps for inventory management and billing using Angular/Node."]}]},{id:"projects",title:"MY FEATURED PROJECTS",label:"PROJECTS",type:"projects",position:[0,-3,3],content:[{name:"3DCAL",category:"Core Product Development",description:"Developed the main product functionalities, including a complete e-commerce ecosystem, administration site and a real-time 3D vehicle configurator and editor.",stack:["Angular","Babylon.js","NestJS","Docker","AWS","D3.js","Electron.js","Astro"],link:"https://3dcal.com/"},{name:"Custom WP Plugins",category:"Development Tools",description:"Developed a real-time Shipping Cost Calculator plugin for Ecuadorian couriers, integrated with WooCommerce store.",stack:["PHP","WordPress API","REST","WooCommerce"]},{name:"AMPDC",category:"Volunteer Work",description:"Volunteered for UN to maintain the site, updated sections/color palettes, and integrated payments. Implemented analytics (Clarify, GA, FB Pixel) and published articles.",stack:["WordPress","Analytics","Plugins"],link:"https://psicologiaydesarrollocomunitario.com/"},{name:"PBYA",category:"Web Solutions",description:"Solved critical hosting migration issues, diagnosed and repaired code errors with deep refactoring, and developed a new custom module for the industrial sector.",stack:["Headless WP","Gatsby","React"],link:"https://pbya.com/"}]},{id:"skills",title:"TECH SKILLS",label:"SKILLS",type:"skills",position:[4,0,2],content:{core:[{name:"Angular & TS",level:98},{name:"Babylon.js",level:96},{name:"NestJs",level:90},{name:"Three.js",level:93},{name:"Vue.js",level:80},{name:"React",level:70},{name:"Astro",level:85}],languages:["Java","C#","Python","Javascript","HTML/CSS","TypeScript","PHP"],frameworks:["Angular","Vue 3","Astro","Electron.js","Microservices","REST API","NodeJs","NestJS","Express.js"],data:["PostgreSQL","MongoDB","MySQL","SQLite"],tooling:["Puppeteer","Jira","Github","Slack","Postman","Figma","Mongo Express"],devops:["Docker","AWS","Azure","Git Flow","GitHub Actions"]}}];var mt=[{id:"about",title:"DAVID ALVARADO",label:"CON\xD3CEME",type:"about",position:[0,2,0],content:{avatar:"assets/images/david_tp.jpg",role:"Full-Stack Developer (Front-end Focused)",location:"Ecuador",bio:["Combino precisi\xF3n t\xE9cnica con creatividad art\xEDstica. Cuento con m\xE1s de 5 a\xF1os de experiencia en desarrollo de software, me especializo en dise\xF1ar e implementar arquitecturas escalables utilizando tecnolog\xEDas y frameworks modernos de FrontEnd y BackEnd, seleccionando cuidadosamente la mejor arquitectura en base a los requisitos espec\xEDficos de cada proyecto.","M\xE1s all\xE1 de la pantalla, me gusta cantar y crear contenido. En mi canal de YouTube, traduzco e interpreto canciones, aplicando la misma dedicaci\xF3n a mi producci\xF3n musical que a la calidad del software.","Valoro la autonom\xEDa y la confianza. Soy un l\xEDder responsable que fomenta la buena comunicaci\xF3n y un ambiente positivo, considero que el software de calidad es construido por equipos felices y auto-gestionados."],socials:{youtube:"https://www.youtube.com/@D4veCovers",linkedin:"https://linkedin.com/in/david-alvarado-dev/",email:"frealvaradoc@gmail.com"},softSkills:["Orientado al Detalle","Buena Comunicaci\xF3n","Aut\xF3nomo","Colaborativo"]}},{id:"experience",title:"EXPERIENCIA PROFESIONAL",label:"EXPERIENCIA",type:"experience",position:[-4,0,2],content:[{company:"StickerStoke S.A.S",role:"L\xEDder T\xE9cnico Front-End",period:"2021 - 2025",desc:"Lider\xE9 la visi\xF3n tecnol\xF3gica para una plataforma de personalizaci\xF3n de veh\xEDculos en tiempo real.",highlights:["Colabor\xE9 en la arquitectura, dise\xF1o y desarrollo de un editor vectorial con visualizaci\xF3n 3D, contribuyendo al desarrollo de un algoritmo patentable usando Babylon.js y Angular.","Desarroll\xE9 e implement\xE9 herramientas internas que mejoraron la organizaci\xF3n del trabajo, redujeron tiempos de desarrollo y aumentaron la productividad del equipo.","Gestion\xE9 pipelines AWS/Docker para eficiencia CI/CD.","Implement\xE9 un ecosistema de e-commerce completo: marketplace, carrito de compras, pagos, facturaci\xF3n y panel administrativo."]},{company:"GoData Ecuador",role:"L\xEDder T\xE9cnico",period:"2020 - 2021",desc:"Dirig\xED la digitalizaci\xF3n de operaciones bancarias.",highlights:["Lider\xE9 un equipo de 4 desarrolladores usando metodolog\xEDas Agile/Scrum.","Dise\xF1\xE9 la arquitectura y desarroll\xE9 un sistema de gesti\xF3n completo de manejo de p\xF3lizas bancarias.","Supervis\xE9 despliegues en JBoss y coordinaci\xF3n de integraci\xF3n con Back-End Java-Spring Boot, asegurando un funcionamiento estable y seguro del sistema."]},{company:"Full Stack Freelancer",role:"Desarrollador Full Stack",period:"2019 - 2020",desc:"Desarroll\xE9 y desplegu\xE9 soluciones web personalizadas y transformaciones digitales.",highlights:["Dise\xF1\xE9 sitios web optimizados para SEO aumentando la visibilidad del cliente.","Constru\xED plugins de WordPress personalizados para flujos de trabajo automatizados.","Desarroll\xE9 aplicaciones full-stack para gesti\xF3n de inventario y facturaci\xF3n usando Angular/Node."]}]},{id:"projects",title:"MIS PROYECTOS DESTACADOS",label:"PROYECTOS",type:"projects",position:[0,-3,3],content:[{name:"3DCAL",category:"Desarrollo de Producto Principal",description:"Desarroll\xE9 las funcionalidades principales del producto, incluyendo un ecosistema completo de e-commerce, sitio de administraci\xF3n y un configurador y editor de veh\xEDculos 3D en tiempo real.",stack:["Angular","Babylon.js","NestJS","Docker","AWS","D3.js","Electron.js","Astro"],link:"https://3dcal.com/"},{name:"Plugins WP Personalizados",category:"Herramientas de Desarrollo",description:"Desarroll\xE9 un plugin para Calculador Costos de Env\xEDo en tiempo real para couriers ecuatorianos, integrado en la tienda de Woocommerce.",stack:["PHP","WordPress API","REST","WOOCOMMERCE"]},{name:"AMPDC",category:"Trabajo Voluntario",description:"Fui voluntario de la ONU para mantenimiento del sitio, actualizaci\xF3n de secciones/paletas de colores, e integraci\xF3n de pagos. Implementaci\xF3n de analytics (Clarify, GA, FB Pixel) y publicaci\xF3n de art\xEDculos.",stack:["WordPress","Analytics","Plugins"],link:"https://psicologiaydesarrollocomunitario.com/"},{name:"PBYA",category:"Soluciones Web",description:"Resolv\xED problemas cr\xEDticos de migraci\xF3n de hosting, diagnostiqu\xE9 y repar\xE9 errores de c\xF3digo con refactoring profundo, y desarroll\xE9 un nuevo m\xF3dulo personalizado para el sector industrial.",stack:["Headless WP","Gatsby","React"],link:"https://pbya.com/"}]},{id:"skills",title:"HABILIDADES TECNOL\xD3GICAS",label:"HABILIDADES",type:"skills",position:[4,0,2],content:{core:[{name:"Angular & TS",level:98},{name:"Babylon.js",level:96},{name:"NestJs",level:90},{name:"Three.js",level:93},{name:"Vue.js",level:80},{name:"React",level:70},{name:"Astro",level:85}],languages:["Java","C#","Python","Javascript","HTML/CSS","TypeScript","PHP"],frameworks:["Angular","Vue 3","Astro","Electron.js","Microservicios","API REST","NodeJs","NestJS","Express.js"],data:["PostgreSQL","MongoDB","MySQL","SQLite"],tooling:["Puppeteer","Jira","Github","Slack","Postman","Figma","Mongo Express"],devops:["Docker","AWS","Azure","Git Flow","GitHub Actions"]}}];var Be=class n{constructor(t){this.i18nService=t;this.updateDataBasedOnLanguage(),this.i18nService.languageObservable.subscribe(()=>{this.updateDataBasedOnLanguage()})}_currentData$=new G(dt);currentData$=this._currentData$.asObservable();getCVData(){let t=this.i18nService.language;return this.getDataForLanguage(t)}getDataForLanguage(t){return t?.startsWith("es")?mt:dt}updateDataBasedOnLanguage(){let t=this.getCVData();this._currentData$.next(t)}static \u0275fac=function(e){return new(e||n)(xe(he))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})};var ki=["renderCanvas"],Ni=(n,t)=>t.company,ui=(n,t)=>t.name;function zi(n,t){if(n&1&&(p(0,"span",25),f(1),d()),n&2){let e=t.$implicit;c(),x(e)}}function Di(n,t){if(n&1&&(p(0,"p"),f(1),d()),n&2){let e=t.$implicit;c(),x(e)}}function Li(n,t){if(n&1&&(p(0,"div",12)(1,"div",16)(2,"div",17),S(3,"img",18)(4,"div",19)(5,"div",20),d(),p(6,"div",21)(7,"h3"),f(8),d(),p(9,"span",22)(10,"span",23),f(11,"\u{1F4CD}"),d(),f(12),d(),p(13,"div",24),D(14,zi,2,1,"span",25,B),d()()(),p(16,"div",26),D(17,Di,2,1,"p",null,B),d(),p(19,"div",27)(20,"a",28)(21,"span"),f(22,"\u25B6"),d(),f(23," D4veCovers "),d(),p(24,"a",29)(25,"span"),f(26,"in"),d(),f(27," LinkedIn "),d(),p(28,"a",30)(29,"span"),f(30,"\u2709"),d(),f(31," Email "),d()()()),n&2){let e=R();c(3),z("src",e.content.avatar,J),c(5),x(e.content.role),c(4),me(" ",e.content.location," "),c(2),L(e.content.softSkills),c(3),L(e.content.bio),c(3),z("href",e.content.socials.youtube,J),c(4),z("href",e.content.socials.linkedin,J),c(4),z("href","mailto:"+e.content.socials.email,J)}}function Ri(n,t){if(n&1&&(p(0,"li"),f(1),d()),n&2){let e=t.$implicit;c(),x(e)}}function Fi(n,t){if(n&1&&(p(0,"div",31),S(1,"div",32),p(2,"div",33)(3,"div",34)(4,"h3"),f(5),d(),p(6,"span",35),f(7),d()(),p(8,"h4",36),f(9),d(),p(10,"p",37),f(11),d(),p(12,"ul",38),D(13,Ri,2,1,"li",null,B),d()()()),n&2){let e=t.$implicit;c(5),x(e.role),c(2),x(e.period),c(2),x(e.company),c(2),x(e.desc),c(2),L(e.highlights)}}function Bi(n,t){if(n&1&&(p(0,"div",13),D(1,Fi,15,4,"div",31,Ni),d()),n&2){let e=R();c(),L(e.content)}}function Vi(n,t){if(n&1&&(p(0,"span",45),f(1),d()),n&2){let e=t.$implicit;c(),x(e)}}function ji(n,t){if(n&1&&S(0,"a",47),n&2){let e=R().$implicit;z("href",e.link,J)("translate","Visit Site \u2197")}}function Ui(n,t){if(n&1&&(p(0,"div",39),S(1,"div",40),p(2,"div",41)(3,"span",42),f(4),d(),p(5,"h3"),f(6),d()(),p(7,"p"),f(8),d(),p(9,"div",43)(10,"div",44),D(11,Vi,2,1,"span",45,B),d(),p(13,"div",46),I(14,ji,1,2,"a",47),d()()()),n&2){let e=t.$implicit;c(4),x(e.category),c(2),x(e.name),c(2),x(e.description),c(3),L(e.stack),c(3),w(e.link?14:-1)}}function Gi(n,t){if(n&1&&(p(0,"div",14),D(1,Ui,15,4,"div",39,ui),d()),n&2){let e=R();c(),L(e.content)}}function Hi(n,t){if(n&1&&(p(0,"div",50)(1,"div",56)(2,"span"),f(3),d(),p(4,"span",57),f(5),d()(),p(6,"div",58),S(7,"div",59),d()()),n&2){let e=t.$implicit;c(3),x(e.name),c(2),me("",e.level,"%"),c(2),xt("width",e.level,"%")}}function Yi(n,t){if(n&1&&(p(0,"span",55),f(1),d()),n&2){let e=t.$implicit;c(),x(e)}}function $i(n,t){if(n&1&&(p(0,"span",55),f(1),d()),n&2){let e=t.$implicit;c(),x(e)}}function Wi(n,t){if(n&1&&(p(0,"span",55),f(1),d()),n&2){let e=t.$implicit;c(),x(e)}}function qi(n,t){if(n&1&&(p(0,"span",55),f(1),d()),n&2){let e=t.$implicit;c(),x(e)}}function Ki(n,t){if(n&1&&(p(0,"span",55),f(1),d()),n&2){let e=t.$implicit;c(),x(e)}}function Zi(n,t){if(n&1&&(p(0,"div",15)(1,"div",48)(2,"h4",49),f(3),d(),D(4,Hi,8,4,"div",50,ui),d(),p(6,"div",51)(7,"div",52),S(8,"h4",53),p(9,"div",54),D(10,Yi,2,1,"span",55,B),d()(),p(12,"div",52),S(13,"h4",53),p(14,"div",54),D(15,$i,2,1,"span",55,B),d()(),p(17,"div",52)(18,"h4",53),f(19,"BACKEND & DATA"),d(),p(20,"div",54),D(21,Wi,2,1,"span",55,B),d()(),p(23,"div",52),S(24,"h4",53),p(25,"div",54),D(26,qi,2,1,"span",55,B),d()(),p(28,"div",52),S(29,"h4",53),p(30,"div",54),D(31,Ki,2,1,"span",55,B),d()()()()),n&2){let e=R();c(3),x(e.label),c(),L(e.content.core),c(4),z("translate","LANGUAGES"),c(2),L(e.content.languages),c(3),z("translate","FRAMEWORKS AND LIBRARIES"),c(2),L(e.content.frameworks),c(3),z("translate","DATABASES"),c(3),L(e.content.data),c(3),z("translate","TOOLS AND TECH"),c(2),L(e.content.tooling),c(3),z("translate","DEVOPS"),c(2),L(e.content.devops)}}function Qi(n,t){if(n&1){let e=Ae();p(0,"div",6)(1,"div",7)(2,"h1",8),f(3),d()(),p(4,"button",9),Ct("click",function(){Oe(e);let r=R(2);return Me(r.closeDetails())}),p(5,"span",10),f(6,"\xD7"),d()()(),p(7,"div",11),I(8,Li,32,6,"div",12),I(9,Bi,3,0,"div",13),I(10,Gi,3,0,"div",14),I(11,Zi,33,6,"div",15),d()}if(n&2){let e=t;c(3),x(e.title),c(5),w(e.type==="about"?8:-1),c(),w(e.type==="experience"?9:-1),c(),w(e.type==="projects"?10:-1),c(),w(e.type==="skills"?11:-1)}}function Ji(n,t){if(n&1&&(p(0,"div",3)(1,"div",4),S(2,"app-language-selector"),d()(),p(3,"div",5),I(4,Qi,12,5),d()),n&2){let e,i=R();c(3),ee("active",i.isDetailsOpen()),c(),w((e=i.activeSection())?4:-1,e)}}var Ve=class n{constructor(t,e,i,r,o,a,l,u){this.babylonService=t;this.ngZone=e;this.puzzleStore=i;this.splashService=r;this.shieldService=o;this.nebulaService=a;this.dataProvider=l;this.i18nService=u}canvasRef;activeSection=Q(null);isDetailsOpen=Q(!1);isTransitioning=!1;floatingObserver=null;isMobile=ti();cvData=[];ngOnInit(){this.i18nService.enableReloadOnLanguageChange(),this.cvData=this.dataProvider.getCVData(),this.splashService.updateImage("assets/icons/opened-map.png"),this.splashService.autoHide=!1,this.splashService.buttonText="Go",this.splashService.show=!0,this.puzzleStore.setLoading(!0),this.splashService.updateMessage("Unlocking Map"),this.injectStructuredData(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>this.initScene(),0)})}injectStructuredData(){let t=document.createElement("script");t.type="application/ld+json",t.text=JSON.stringify({"@context":"https://schema.org","@type":"Person",name:"David Alvarado",jobTitle:"Full Stack Developer",description:"Creative technologist specializing in full-stack development and interactive web experiences",url:window.location.origin,image:`${window.location.origin}/assets/images/david_tp.jpg`,sameAs:[]}),document.head.appendChild(t)}initScene(){return U(this,null,function*(){let t=this.canvasRef.nativeElement;if(!t){console.error("Canvas element not found!");return}try{this.babylonService.initScene(t,{createEnvironmentTexture:!1,createLights:!0,allowCamControls:!0,createGlowLayer:!0},{removeKeyBoardInputs:!0,autoElevation:!1,disablePanning:!0});let e=this.babylonService.currentScene;if(!e){console.error("Scene initialization failed!");return}e.clearColor=new H(.02,.02,.08,1);let i=this.babylonService.currentCamera;i&&(i.radius=35,i.beta=Math.PI/2.3,i.alpha=Math.PI*2,i.wheelPrecision=30,i.angularSensibilityX=1500,i.angularSensibilityY=1500,i.lowerRadiusLimit=5,i.upperRadiusLimit=80,i.lowerBetaLimit=.1,i.upperBetaLimit=Math.PI-.1),yield this.loadNebulaDome(),this.createGridUniverse(),yield this.loadGalaxyModel(),yield this.createCentralHologram(),this.spawnCVConstellations(),this.createShieldSystem(),this.createNebulaBackground(),this.babylonService.startAnimation(),this.ngZone.run(()=>{this.puzzleStore.setLoading(!1),setTimeout(()=>{this.splashService.hide()},500)})}catch(e){console.error("Failed to initialize holographic room:",e),this.ngZone.run(()=>{this.splashService.updateMessage("Error loading holographic interface"),this.puzzleStore.setLoading(!1)})}})}createGridUniverse(){let t=this.babylonService.currentScene;if(!t)return;let e=this.isMobile?32:64,i=V.CreateSphere("universe",{diameter:100,segments:e},t),r=new k("gridMat",t);r.majorUnitFrequency=5,r.minorUnitVisibility=1,r.gridRatio=4,r.mainColor=g.FromHexString("#005555"),r.lineColor=g.FromHexString("#00ffff"),r.opacity=.4,r.backFaceCulling=!1,i.material=r,i.isPickable=!1}loadGalaxyModel(){return U(this,null,function*(){if(this.babylonService.currentScene)try{let e=yield this.babylonService.loadModel("assets/models/solar_system.glb");e.addAllToScene();let i=e.meshes;if(i.length>0){let r=i[0];r.position=P.Zero(),r.scaling=new P(.1,.1,.1),i.forEach(o=>{if(o.isPickable=!1,o.material){let l=o.material;l.alpha=.4,l.backFaceCulling=!1}let a=this.babylonService.currentGlowLayer;a&&o&&a.addExcludedMesh(o)})}}catch(e){console.error("Failed to load galaxy.glb:",e)}})}loadNebulaDome(){return U(this,null,function*(){if(this.babylonService.currentScene)try{let e=yield this.babylonService.loadModel("assets/models/nebula_dome.glb");e.addAllToScene();let i=e.meshes;if(i.length>0){let r=i[0];r.position=P.Zero(),r.scaling=new P(100,100,100),i.forEach(o=>{if(o.isPickable=!1,o.material){let l=o.material;l.backFaceCulling=!1}let a=this.babylonService.currentGlowLayer;a&&o&&a.addExcludedMesh(o)})}}catch(e){console.error("Failed to load nebula_dome.glb:",e)}})}createCentralHologram(){return U(this,null,function*(){let t=this.babylonService.currentScene;if(!t)throw new Error("Scene not initialized");let e=new ue("coreGroup",t);try{let u=yield this.babylonService.loadModel("assets/models/treasure_map.glb");u.addAllToScene();let s=u.meshes;if(s.length>0){let h=s[0];h.parent=e,h.scaling=new P(1,1,1),s.forEach(m=>{if(m.isPickable=!1,m.material){let v=new W("treasureMapGreen",t);v.emissiveColor=g.FromHexString("#038a03"),v.alpha=.3,m.material=v}})}}catch(u){console.error("Failed to load treasure_map.glb, using fallback sphere",u);let s=V.CreateSphere("corePlanet",{diameter:10,segments:64},t);s.parent=e;let h=new W("planetMat",t);h.diffuseColor=g.FromHexString("#00aa00"),h.specularColor=g.FromHexString("#33ff33"),h.emissiveColor=g.Black(),h.alpha=1,s.material=h}let i=0;this.floatingObserver=t.onBeforeRenderObservable.add(()=>{i+=.03,e.position.y=Math.sin(i)*.25});let r=V.CreateTorus("ring1",{diameter:25,thickness:.12,tessellation:48},t);r.parent=e,r.position=P.Zero(),r.rotation.x=Math.PI+Math.PI/8,r.rotation.y=0,r.rotation.z=0;let o=new W("ring1Mat",t);o.emissiveColor=g.FromHexString("#00ff00"),o.diffuseColor=g.Black(),o.specularColor=g.Black(),o.alpha=.85,r.material=o;let l=this.createParticlesRing()?.emitter;return l&&(l.parent=e,l.position=P.Zero(),l.rotation.x=Math.PI-Math.PI/8,l.rotation.y=0,l.rotation.z=0),e})}spawnCVConstellations(){let e=this.cvData,i=e.length;e.forEach((r,o)=>{let a=o/i*Math.PI*2,l=Math.cos(a)*14,u=Math.sin(a)*14,s=Math.sin(a*3)*1.5,h=new P(l,s,u),v=this.createOrbitalNode(r.label,h,"#00ffff",()=>{this.onNodeClicked(r,v)})})}onNodeClicked(t,e){this.isDetailsOpen()||this.ngZone.run(()=>{this.flyToMesh(e,7,()=>{this.ngZone.run(()=>{this.activeSection.set(t),this.isDetailsOpen.set(!0)})})})}closeDetails(){this.isDetailsOpen.set(!1),setTimeout(()=>{this.activeSection.set(null),this.resetCameraView()},100)}createOrbitalNode(t,e,i,r){let o=this.babylonService.currentScene;if(!o)throw new Error("Scene not initialized");let a=this.isMobile?8:16,l=new ue(t+"_group",o);l.position=e;let u=V.CreateSphere(t,{diameter:2,segments:a},o);u.parent=l;let s=new W(t+"_mat",o);s.emissiveColor=g.FromHexString(i),s.alpha=.8,u.material=s;let h=V.CreateSphere(t+"_atmo",{diameter:1.5,segments:a},o);h.parent=l;let m=new W(t+"_atmoMat",o);return m.emissiveColor=g.FromHexString(i),m.alpha=.3,h.material=m,u.isPickable=!0,l.isPickable=!1,u.actionManager=new ge(o),u.actionManager.registerAction(new ce(ge.OnPickTrigger,()=>{this.isTransitioning||r()})),this.setupConstellationHoverEffect(u,h,i),this.createHolographicLabel(t,l,i),this.createConnectionBeam(P.Zero(),e,i),l}setupConstellationHoverEffect(t,e,i){let r=this.babylonService.currentScene;t.actionManager||(t.actionManager=new ge(r));let o=g.FromHexString(i),a=g.FromHexString("#FF8C00"),l=g.FromHexString("#FFA500"),u=t.material,s=e.material;t.actionManager.registerAction(new ce(ge.OnPointerOverTrigger,()=>{this.isTransitioning||(u.emissiveColor=l,s.emissiveColor=a)})),t.actionManager.registerAction(new ce(ge.OnPointerOutTrigger,()=>{u.emissiveColor=o,s.emissiveColor=o}))}createConnectionBeam(t,e,i){let r=[t,e],o=V.CreateLines("beam",{points:r},this.babylonService.currentScene);o.color=g.FromHexString("#00ffff"),o.alpha=.3,o.isPickable=!1}createParticlesRing(){let t=this.babylonService.currentScene;if(!t)return;let e=this.isMobile,i=1e3,r=e?24:48,o=V.CreateTorus("torusEmitter",{diameter:25,thickness:.5,tessellation:r},t);o.isVisible=!1,o.scaling.y=.01;let a=new Qe("clouds",i,t);return a.particleTexture=new Ft("assets/textures/flame.png",t),a.emitter=o,a.particleEmitterType=new ni(o),a.color1=new H(.2,1,.3,.8),a.color2=new H(0,1,.1,.7),a.colorDead=new H(0,.5,.1,0),a.minSize=.8,a.maxSize=1.5,a.updateSpeed=.002,a.minLifeTime=10800*60*a.updateSpeed,a.maxLifeTime=a.minLifeTime,a.emitRate=0,a.manualEmitCount=i,a.gravity=new P(0,0,0),a.minEmitPower=0,a.maxEmitPower=0,a.minAngularSpeed=0,a.maxAngularSpeed=Math.PI*2,a.blendMode=Qe.BLENDMODE_ONEONE,a.isBillboardBased=!0,a.start(),a}createHolographicLabel(t,e,i){let r=this.babylonService.currentScene,l=V.CreatePlane("label",{width:12,height:3},r);l.parent=e,l.position.y=-2.8,l.billboardMode=ue.BILLBOARDMODE_ALL,l.isPickable=!1;let u=new ei("dynamic texture",{width:2048,height:512},r);u.hasAlpha=!0;let s=u.getContext();s.clearRect(0,0,2048,512);let h="#ffffff",m="#003875",v="#000000",N=140;s.font=`700 ${N}px "TreasurePlanet", sans-serif`;let O=(2048-s.measureText(t.toUpperCase()).width)/2,b=280;s.shadowColor=m,s.shadowBlur=30,s.shadowOffsetX=0,s.shadowOffsetY=0,s.fillStyle=m,s.fillText(t.toUpperCase(),O,b),s.shadowBlur=18,s.fillText(t.toUpperCase(),O,b),s.shadowBlur=0,s.lineWidth=8,s.strokeStyle=v,s.strokeText(t.toUpperCase(),O,b),s.shadowBlur=12,s.shadowColor=m,s.fillStyle=m,s.fillText(t.toUpperCase(),O,b),s.shadowBlur=6,s.shadowColor="#ffffff",s.fillStyle=h,s.fillText(t.toUpperCase(),O,b),s.shadowBlur=0,s.fillStyle="#ffffff",s.fillText(t.toUpperCase(),O,b),u.update();let j=new W("labelMat",this.babylonService.currentScene);j.diffuseTexture=u,j.emissiveColor=g.FromHexString("#ffffff"),j.emissiveColor.scale(1.3),j.opacityTexture=u,j.alpha=1,j.disableLighting=!0,j.backFaceCulling=!1,l.material=j,this.babylonService.currentGlowLayer&&this.babylonService.currentGlowLayer.addExcludedMesh(l)}flyToMesh(t,e=4,i){let r=this.babylonService.currentScene,o=this.babylonService.currentCamera;if(!r||!o||this.isTransitioning)return;this.isTransitioning=!0;let a=30,l=60,u=t.absolutePosition.clone(),s=new y("zoom","radius",a,y.ANIMATIONTYPE_FLOAT,y.ANIMATIONLOOPMODE_CONSTANT),h=new y("move","target",a,y.ANIMATIONTYPE_VECTOR3,y.ANIMATIONLOOPMODE_CONSTANT),m=new Ke;m.setEasingMode(qe.EASINGMODE_EASEINOUT),[s,h].forEach(v=>v.setEasingFunction(m)),s.setKeys([{frame:0,value:o.radius},{frame:l,value:e}]),h.setKeys([{frame:0,value:o.target},{frame:l,value:u}]),r.beginDirectAnimation(o,[s,h],0,l,!1,1,()=>{this.isTransitioning=!1,i&&i()})}resetCameraView(t){let e=this.babylonService.currentScene,i=this.babylonService.currentCamera;if(!e||!i)return;this.isTransitioning=!0;let r=60,o=90,a=new y("zoomOut","radius",r,y.ANIMATIONTYPE_FLOAT,y.ANIMATIONLOOPMODE_CONSTANT),l=new y("resetTarget","target",r,y.ANIMATIONTYPE_VECTOR3,y.ANIMATIONLOOPMODE_CONSTANT),u=new Ke;u.setEasingMode(qe.EASINGMODE_EASEINOUT),[a,l].forEach(s=>s.setEasingFunction(u)),a.setKeys([{frame:0,value:i.radius},{frame:o,value:40}]),l.setKeys([{frame:0,value:i.target},{frame:o,value:P.Zero()}]),e.beginDirectAnimation(i,[a,l],0,o,!1,1,()=>{this.isTransitioning=!1,t&&t()})}createNebulaBackground(){let t=this.babylonService.currentScene;if(!t)return;let e=this.isMobile?1e3:2e3,i=this.isMobile?100:200;this.nebulaService.createNebulaBackground(t,!0,e,i),this.nebulaService.startSystems()}createShieldSystem(){let t=this.babylonService.currentScene;t&&(this.shieldService.createShieldSystem(t,0,25),this.shieldService.startAnimation())}ngOnDestroy(){this.floatingObserver&&this.babylonService.currentScene&&(this.babylonService.currentScene.onBeforeRenderObservable.remove(this.floatingObserver),this.floatingObserver=null),this.i18nService.disableReloadOnLanguageChange(),this.dispose()}dispose(){this.nebulaService.dispose(),this.shieldService.dispose(),this.babylonService.dispose()}static \u0275fac=function(e){return new(e||n)(E(Le),E(Te),E(q),E(re),E(ii),E(ri),E(Be),E(he))};static \u0275cmp=X({type:n,selectors:[["app-holographic-room"]],viewQuery:function(e,i){if(e&1&&Ie(ki,7),e&2){let r;we(r=ke())&&(i.canvasRef=r.first)}},decls:4,vars:1,consts:[["renderCanvas",""],[1,"holographic-container"],[1,"render-canvas"],[1,"hud-overlay"],[1,"language-selector-wrapper"],[1,"holo-panel"],[1,"panel-header"],[1,"header-content"],[1,"neon-title"],[1,"close-btn",3,"click"],[1,"icon"],[1,"panel-content","custom-scrollbar"],[1,"about-container"],[1,"timeline-container"],[1,"projects-grid"],[1,"skills-layout"],[1,"profile-header"],[1,"avatar-frame"],["alt","David Alvarado",1,"avatar-img",3,"src"],[1,"scan-line"],[1,"avatar-ring"],[1,"profile-intro"],[1,"location"],[1,"pin-icon"],[1,"soft-skills-row"],[1,"skill-pill"],[1,"bio-section"],[1,"connections"],["target","_blank",1,"holo-btn","youtube",3,"href"],["target","_blank",1,"holo-btn",3,"href"],[1,"holo-btn",3,"href"],[1,"timeline-item"],[1,"timeline-marker"],[1,"job-card"],[1,"job-header"],[1,"period"],[1,"company"],[1,"job-desc"],[1,"highlights"],[1,"project-card"],[1,"card-glow"],[1,"project-header"],[1,"category"],[1,"mt-auto"],[1,"tech-stack-mini"],[1,"tech-pill"],[1,"project-links"],["target","_blank",1,"link-btn",3,"href","translate"],[1,"core-skills"],[1,"section-label"],[1,"skill-bar-container"],[1,"secondary-skills"],[1,"skill-group"],[1,"section-label",3,"translate"],[1,"tags"],[1,"tag"],[1,"skill-info"],[1,"percent"],[1,"bar-track"],[1,"bar-fill"]],template:function(e,i){e&1&&(p(0,"div",1),S(1,"canvas",2,0),I(3,Ji,5,3),d()),e&2&&(c(3),w(i.puzzleStore.isLoading()?-1:3))},dependencies:[oi,De],styles:[".holographic-container[_ngcontent-%COMP%]{width:100%;height:100vh;position:relative;overflow:hidden;background:#000}.holographic-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%;height:100%;outline:none;cursor:grab}.holographic-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]:active{cursor:grabbing}.hud-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;padding:.5rem}.hud-overlay[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]{position:absolute;top:20px;font-family:Courier New,Courier,monospace;font-size:.8rem;color:#0ff9;border:1px solid rgba(0,255,255,.3);padding:4px 8px;background:#00142880}.hud-overlay[_ngcontent-%COMP%]   .status-bar.right[_ngcontent-%COMP%]{right:20px;text-align:right}.hud-overlay[_ngcontent-%COMP%]   .language-selector-wrapper[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;pointer-events:auto}.holo-panel[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-40%) scale(.9);width:90%;max-width:650px;max-height:80dvh;font-family:Courier New,Courier,monospace;background:#0c141ea6;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(0,255,255,.3);box-shadow:0 0 30px #00ffff1a;border-radius:12px;display:flex;flex-direction:column;opacity:0;pointer-events:none;transition:all .4s cubic-bezier(.16,1,.3,1)}.holo-panel.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto;transform:translate(-50%,-50%) scale(1)}.holo-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid rgba(0,255,255,.1)}.holo-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.holo-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .neon-title[_ngcontent-%COMP%]{color:#0ff;text-shadow:0 0 10px rgba(0,255,255,.5);margin:0;font-size:1.5rem;letter-spacing:2px}.holo-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:1px solid rgba(0,255,255,.3);color:#0ff;width:1.8rem;height:100%;aspect-ratio:1/1;border-radius:50%;cursor:pointer;font-size:1.2rem;transition:all .2s;display:flex;align-items:center;justify-content:center}.holo-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#0ff3;box-shadow:0 0 10px #0ff6}.holo-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{padding:1rem;overflow-y:auto;color:#e0e0e0;line-height:1.6}.holo-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.holo-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000004d}.holo-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#00ffff4d;border-radius:3px}.about-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.profile-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;border-bottom:1px solid rgba(0,255,255,.2);padding-bottom:20px}@media(max-width:600px){.profile-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}.avatar-frame[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;border-radius:50%;border:2px solid #00ffff;box-shadow:0 0 15px #00ffff4d;overflow:hidden;flex-shrink:0}.avatar-frame[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;filter:sepia(20%) hue-rotate(180deg) saturate(90%)}.avatar-frame[_ngcontent-%COMP%]   .scan-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,transparent 40%,rgba(0,255,255,.4) 50%,transparent 60%);background-size:100% 200%;animation:_ngcontent-%COMP%_scanFace 3s linear infinite;pointer-events:none}.profile-intro[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 5px;color:#fff;font-size:1.3rem}.profile-intro[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{color:#aaa;font-size:.9rem;display:block;margin-bottom:10px}.soft-skills-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}@media(max-width:600px){.soft-skills-row[_ngcontent-%COMP%]{justify-content:center}}.soft-skills-row[_ngcontent-%COMP%]   .skill-pill[_ngcontent-%COMP%]{font-size:.75rem;padding:2px 8px;border:1px solid rgba(0,255,255,.4);color:#0ff;border-radius:4px;background:#00ffff0d}.bio-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;color:#e0e0e0;font-size:1rem;text-align:justify}.connections[_ngcontent-%COMP%]{display:flex;gap:15px;margin-top:10px;flex-wrap:wrap}@media(max-width:600px){.connections[_ngcontent-%COMP%]{justify-content:center}}.holo-btn[_ngcontent-%COMP%]{text-decoration:none;padding:8px 16px;border:1px solid #00ffff;color:#0ff;font-family:Courier New,monospace;font-weight:700;font-size:.9rem;background:#00ffff1a;transition:all .3s ease;display:flex;align-items:center;gap:8px}.holo-btn[_ngcontent-%COMP%]:hover{background:#0ff;color:#000;box-shadow:0 0 15px #0ff9}.holo-btn.youtube[_ngcontent-%COMP%]{border-color:#f44;color:#f44;background:#ff44441a}.holo-btn.youtube[_ngcontent-%COMP%]:hover{background:#f44;color:#fff;box-shadow:0 0 15px #f449}@keyframes _ngcontent-%COMP%_scanFace{0%{transform:translateY(-100%)}to{transform:translateY(100%)}}.timeline-container[_ngcontent-%COMP%]{position:relative;padding-left:20px;border-left:2px solid rgba(0,255,255,.15)}.timeline-item[_ngcontent-%COMP%]{position:relative;margin-bottom:35px}.timeline-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.timeline-item[_ngcontent-%COMP%]   .timeline-marker[_ngcontent-%COMP%]{position:absolute;left:-26px;top:5px;width:10px;height:10px;background:#0ff;border-radius:50%;box-shadow:0 0 10px #0ff}.job-card[_ngcontent-%COMP%]{background:#ffffff08;padding:1.2rem;border-radius:8px;border:1px solid rgba(0,255,255,.1);transition:background .3s}.job-card[_ngcontent-%COMP%]:hover{background:#00ffff0f;border-color:#00ffff4d}.job-card[_ngcontent-%COMP%]   .job-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:5px;flex-wrap:wrap}.job-card[_ngcontent-%COMP%]   .job-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.1rem}.job-card[_ngcontent-%COMP%]   .job-header[_ngcontent-%COMP%]   .period[_ngcontent-%COMP%]{color:#0ff;font-family:Courier New,monospace;font-size:.85rem}.job-card[_ngcontent-%COMP%]   .company[_ngcontent-%COMP%]{margin:0 0 10px;color:#aaa;font-weight:400;font-style:italic}.job-card[_ngcontent-%COMP%]   .job-desc[_ngcontent-%COMP%]{margin-bottom:10px;color:#ddd}.job-card[_ngcontent-%COMP%]   .highlights[_ngcontent-%COMP%]{padding-left:18px;margin:0}.job-card[_ngcontent-%COMP%]   .highlights[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:6px;color:#bdd;font-size:.9rem}.job-card[_ngcontent-%COMP%]   .highlights[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{color:#0ff}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px}.project-card[_ngcontent-%COMP%]{position:relative;background:#0006;border:1px solid rgba(0,255,255,.2);padding:1.2rem;border-radius:8px;overflow:hidden;transition:transform .3s ease;display:flex;flex-direction:column}.project-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);border-color:#0ff}.project-card[_ngcontent-%COMP%]:hover   .card-glow[_ngcontent-%COMP%]{opacity:1}.project-card[_ngcontent-%COMP%]   .card-glow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at top right,rgba(0,255,255,.1),transparent 60%);opacity:0;transition:opacity .4s;pointer-events:none}.project-card[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]{margin-bottom:10px}.project-card[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:.7rem;color:#0ff;text-transform:uppercase;letter-spacing:1px;display:block;margin-bottom:4px}.project-card[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.1rem}.project-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#ccc;margin-bottom:15px;line-height:1.4}.project-card[_ngcontent-%COMP%]   .tech-stack-mini[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:10px}.project-card[_ngcontent-%COMP%]   .tech-stack-mini[_ngcontent-%COMP%]   .tech-pill[_ngcontent-%COMP%]{background:#ffffff1a;color:#aff;font-size:.75rem;padding:2px 8px;border-radius:4px}.project-card[_ngcontent-%COMP%]   .project-links[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap}.project-card[_ngcontent-%COMP%]   .project-links[_ngcontent-%COMP%]   .link-btn[_ngcontent-%COMP%]{font-size:.75rem;color:#0ff;text-decoration:none;border:1px solid rgba(0,255,255,.3);padding:4px 8px;border-radius:4px;transition:all .2s}.project-card[_ngcontent-%COMP%]   .project-links[_ngcontent-%COMP%]   .link-btn[_ngcontent-%COMP%]:hover{background:#00ffff1a;border-color:#0ff}.skills-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}.section-label[_ngcontent-%COMP%]{color:#0ff;border-bottom:1px solid rgba(0,255,255,.2);padding-bottom:5px;margin:0 0 15px;font-size:.9rem;letter-spacing:2px;font-family:Courier New,monospace}.core-skills[_ngcontent-%COMP%]   .skill-bar-container[_ngcontent-%COMP%]{margin-bottom:12px}.core-skills[_ngcontent-%COMP%]   .skill-bar-container[_ngcontent-%COMP%]   .skill-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:4px;font-size:.9rem;color:#fff}.core-skills[_ngcontent-%COMP%]   .skill-bar-container[_ngcontent-%COMP%]   .skill-info[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{color:#0ff}.core-skills[_ngcontent-%COMP%]   .skill-bar-container[_ngcontent-%COMP%]   .bar-track[_ngcontent-%COMP%]{height:6px;background:#ffffff1a;border-radius:3px;overflow:hidden}.core-skills[_ngcontent-%COMP%]   .skill-bar-container[_ngcontent-%COMP%]   .bar-track[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#08a,#0ff);box-shadow:0 0 10px #00ffff80}.secondary-skills[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}@media(max-width:500px){.secondary-skills[_ngcontent-%COMP%]{grid-template-columns:1fr}}.secondary-skills[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.secondary-skills[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:#00ffff14;border:1px solid rgba(0,255,255,.2);color:#cff;padding:4px 10px;border-radius:4px;font-size:.8rem;transition:all .2s}.secondary-skills[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:hover{background:#0ff3;border-color:#0ff}.mt-auto[_ngcontent-%COMP%]{margin-top:auto}"]})};var hi=()=>{let n=ve(q),t=ve(be);return n.isUnlocked()?!0:(t.navigate(["/select-language"]).catch(),!1)},fi=()=>{let n=ve(q),t=ve(be);return n.isUnlocked()?(t.navigate(["/holographic-room"]).catch(),!1):!0};var gi=[{path:"",loadComponent:()=>import("./chunk-75UV7IPG.js").then(n=>n.LanguageSelectComponent),title:"David Alvarado - Select Language"},{path:"select-language",component:ai,title:"David Alvarado - Select Language"},{path:"map-puzzle",component:Re,title:"David Alvarado - Map Puzzle",canActivate:[fi]},{path:"holographic-room",component:Ve,title:"David Alvarado - Holographic Room",canActivate:[hi]},{path:"**",redirectTo:"",pathMatch:"full"}];var vi={providers:[Ot({eventCoalescing:!0}),At(gi),_t(Xt.forRoot())]};function Xi(n,t){if(n&1){let e=Ae();le(0,"button",11),Pt("click",function(){Oe(e);let r=R(2);return Me(r.onContinue())}),f(1),te(2,"async"),de()}if(n&2){let e=R(2);c(),me(" ",ie(2,1,e.splashService.buttonText$)," ")}}function en(n,t){n&1&&(le(0,"div",10),Ee(1,"span")(2,"span")(3,"span"),de())}function tn(n,t){if(n&1&&(le(0,"div",1),te(1,"async"),le(2,"div",2)(3,"div",3),Ee(4,"img",4),te(5,"async"),Ee(6,"div",5)(7,"div",6),de(),le(8,"h1",7),te(9,"async"),f(10),te(11,"async"),de(),le(12,"div",8),I(13,Xi,3,3,"button",9),te(14,"async"),yt(15,en,4,0,"div",10),de()()()),n&2){let e=R();ee("exiting",ie(1,9,e.splashService.isExiting$))("transparent-mode",e.splashService.isTransparent),c(4),St("src",ie(5,11,e.splashService.image$),J),c(4),ee("holo-fade-out",!ie(9,13,e.splashService.textVisible$)),c(2),me(" ",ie(11,15,e.splashService.message$)," "),c(3),w(ie(14,17,e.splashService.showButton$)?13:15)}}var je=class n{constructor(t){this.splashService=t}onContinue(){this.splashService.forceClose()}static \u0275fac=function(e){return new(e||n)(E(re))};static \u0275cmp=X({type:n,selectors:[["app-splash-screen"]],decls:2,vars:3,consts:[[1,"splash-screen",3,"exiting","transparent-mode"],[1,"splash-screen"],[1,"splash-content"],[1,"splash-icon-container"],["alt","Map Sphere","width","500","height","500",1,"treasure-icon",3,"src"],[1,"glow-core"],[1,"mech-ring"],[1,"splash-title"],[1,"action-placeholder"],[1,"action-btn"],[1,"loading-indicator"],[1,"action-btn",3,"click"]],template:function(e,i){e&1&&(I(0,tn,16,19,"div",0),te(1,"async")),e&2&&w(ie(1,1,i.splashService.show$)?0:-1)},dependencies:[Ne,Mt],styles:[`:host{display:block}.splash-screen{position:fixed;inset:0;width:100vw;height:100vh;z-index:99999;background:radial-gradient(circle at center,#131622,#050608);display:flex;align-items:center;justify-content:center}.splash-screen.transparent-mode{background:#0f111ad9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.splash-screen{opacity:1;transition:opacity .5s ease-out}.splash-screen.exiting{opacity:0;pointer-events:none}.splash-content{position:relative;display:flex;flex-direction:column;align-items:center;z-index:10}.splash-icon-container{position:relative;width:20rem;height:100%;aspect-ratio:1/1;display:flex;align-items:center;justify-content:center;margin-bottom:2rem}.treasure-icon{width:70%;height:70%;object-fit:contain;z-index:5;filter:drop-shadow(0 0 15px rgba(229,192,123,.4));animation:float-map 4s ease-in-out infinite}.glow-core{position:absolute;width:100%;height:100%;background:radial-gradient(circle,var(--color-neon) 0%,transparent 60%);opacity:.15;filter:blur(20px);animation:pulse-glow 3s infinite alternate;z-index:1}.mech-ring{position:absolute;width:100%;height:100%;border:1px dashed rgba(76,244,42,.47);border-radius:50%;box-shadow:0 0 15px #40fa001a;animation:spin-mech 20s linear infinite;z-index:2}.mech-ring:after{content:"";position:absolute;inset:10%;border:1px solid rgba(229,192,123,.2);border-radius:50%;border-left-color:transparent;border-right-color:transparent;animation:spin-mech-reverse 10s linear infinite}.splash-title{color:var(--color-gold);font-size:1.8rem;letter-spacing:4px;text-transform:uppercase;margin:0 0 1.5rem;text-align:center;background:linear-gradient(to bottom,#fff5d6,#d4af37);-webkit-background-clip:text;-webkit-text-fill-color:transparent;filter:drop-shadow(0 2px 4px rgba(0,0,0,.5));opacity:1;transform:scale(1) translateY(0);transition:opacity .3s ease-in-out,transform .3s ease-in,filter .3s ease-in}.splash-title.holo-fade-out{opacity:0;transform:scale(.95) translateY(5px)}.loading-indicator{display:flex;gap:12px}.loading-indicator span{width:6px;height:6px;background-color:var(--color-gold);border-radius:50%;opacity:.5;animation:sequence-fade 1.4s infinite ease-in-out both}.loading-indicator span:nth-child(1){animation-delay:-.32s}.loading-indicator span:nth-child(2){animation-delay:-.16s}.loading-indicator span:nth-child(3){animation-delay:0s}.action-btn{background:#d4af371a;border:1px solid var(--color-gold);color:var(--color-gold);border-radius:6px;font-family:Courier New,Courier,monospace;font-size:1.2rem;padding:.8rem 2.5rem;cursor:pointer;letter-spacing:3px;text-transform:uppercase;transition:all .3s ease;position:relative;overflow:hidden;box-shadow:0 0 10px #d4af3733}.action-btn:hover{background:#d4af3740;box-shadow:0 0 20px #d4af3799;text-shadow:0 0 8px rgba(212,175,55,.8);transform:translateY(-2px)}.action-btn:active{transform:scale(.98)}.action-placeholder{height:4rem;width:100%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}@keyframes float-map{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes spin-mech{to{transform:rotate(360deg)}}@keyframes spin-mech-reverse{to{transform:rotate(-360deg)}}@keyframes pulse-glow{0%{opacity:.1;transform:scale(.8)}to{opacity:.25;transform:scale(1.1)}}@keyframes sequence-fade{0%,80%,to{transform:scale(0);opacity:0}40%{transform:scale(1);opacity:1;box-shadow:0 0 10px var(--color-gold)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@media(max-width:768px)or (max-height:700px){.splash-icon-container{width:15rem}.splash-title{font-size:1.2rem}}
`],encapsulation:2})};var Ue=class n{constructor(t){this.i18nService=t}title="t-p-portfolio";ngOnInit(){this.i18nService.init("en-US",["en-US","es-ES"])}ngOnDestroy(){this.i18nService.destroy()}static \u0275fac=function(e){return new(e||n)(E(he))};static \u0275cmp=X({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){e&1&&S(0,"app-splash-screen")(1,"router-outlet")},dependencies:[Et,je],encapsulation:2})};Tt(Ue,vi).catch(n=>console.error(n));
